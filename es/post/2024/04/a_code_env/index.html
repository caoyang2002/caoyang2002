<!doctype html><html class="not-ready lg:text-base close" style=--bg:#faf8f1 lang=es-ES dir=ltr><style>body{background-image:url(/images/ui/background.jpg);background-repeat:no-repeat;background-position:50%;background-attachment:fixed;background-size:cover;min-height:100vh}html,body{min-height:100vh}</style><script src=https://cdn.tailwindcss.com></script><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>创建一个远程编译环境 - cyrus reggie</title><meta name=theme-color><meta name=description content="
我使用的是 Mac，所以以下都是 Mac 的说明

一、前端（ts、react）

前端配置：TypeScript、React
依赖项：axios、codemirror、react-codemirror2

1. 初始化模板

任意选一个就行

1.1 交互式










 



         



       



 



     



 



 



     



     



       



 



 



 



 



     



 



     



     



 



         



 



     



 






    
    
        npm init vite
    

    
    



可能需要先安装
npm install vite --save-dev











 



         



       



 



     



 



 



     



     



       



 



 



 



 



     



 



     



     



 



         



 



     



 






    caoyang@cccy del % npm init vite
# 使用 上下键 选择
✔ Project name: … playground  # playground 是项目名称，它会创建一个该名称的文件夹作为项目根目录
✔ Select a framework: › React  # 使用 React 库
✔ Select a variant: › TypeScript  # 使用 TS 语言开发

Scaffolding project in /Users/caoyang/Documents/Aptos/del/playground...

Done. Now run:

# 需要先运行以下代码
  cd playground
  npm install
  npm run dev


1.2 一键创建










 



         



       



 



     



 



 



     



     



       



 



 



 



 



     



 



     



     



 



         



 



     



 






    
    
        npm init vite playground -- --template react-ts
    

    
    


或者"><meta name=author content="simons"><script src=/js/code-flag-handler.js defer></script><link rel="preload stylesheet" as=style href=/bundle.min.66b2dab2c6bacce8963b2d2af9ecbb257a82f2249ddd6035c697d7658f3c988c.css><link rel=preload as=image href=/theme.png><link rel=preload as=image href=/about/avatar.jpg><link rel=preload as=image href=/twitter.svg><link rel=preload as=image href=/github.svg><link rel=preload as=image href=/instagram.svg><link rel=preload as=image href=/rss.svg><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css><script defer src=https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js onload=hljs.highlightAll()></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js></script><link rel=stylesheet href=/css/latex.css><script defer src=/js/latex.js></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/lisp.min.js></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/mhchem.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><style>:root{--katex-font-size:1.21em;--katex-line-height:1.2;--equation-margin:1.5em;--equation-padding:0.8em;--tag-font-size:0.9em;--tag-color:#64748b;--tag-bg:transparent;--tag-border:#e2e8f0;--eqref-color:#3182ce;--eqref-bg:#f7fafc;--eqref-border:#e2e8f0;--eqref-hover-color:#2c5282;--eqref-hover-bg:#ebf8ff;--eqref-hover-border:#bee3f8;--scrollbar-track:#f7fafc;--scrollbar-thumb:#cbd5e0}@media(prefers-color-scheme:dark){:root{--tag-color:#94a3b8;--tag-bg:transparent;--tag-border:#475569;--eqref-color:#60a5fa;--eqref-bg:#1e293b;--eqref-border:#475569;--eqref-hover-color:#93c5fd;--eqref-hover-bg:#334155;--eqref-hover-border:#60a5fa;--scrollbar-track:#1e293b;--scrollbar-thumb:#475569}}.katex{font:var(--katex-font-size)KaTeX_Main,cambria math,times new roman,serif;line-height:var(--katex-line-height);text-indent:0}.katex-display{display:flex;align-items:center;justify-content:center;gap:1em;margin:var(--equation-margin)0;padding:var(--equation-padding)1em;overflow:visible;background-color:rgba(248,250,252,.5);border-left:3px solid #e2e8f0;border-radius:4px;transition:all .2s ease}.katex-display:hover{background-color:rgba(241,245,249,.8);border-left-color:#cbd5e0}.katex-display>.katex{flex:auto;max-width:calc(100% - 4em);margin:0;text-align:center;overflow:visible}.katex-display>.katex>.katex-html{display:block;text-align:center;overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb)var(--scrollbar-track)}.katex-display>.katex>.katex-html::-webkit-scrollbar{height:8px}.katex-display>.katex>.katex-html::-webkit-scrollbar-track{background:var(--scrollbar-track);border-radius:4px}.katex-display>.katex>.katex-html::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:4px;transition:background .2s ease}.katex-display>.katex>.katex-html::-webkit-scrollbar-thumb:hover{background:#94a3b8}.katex-display .equation-tag{flex:none;min-width:3em;font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,helvetica neue,Arial,sans-serif;font-size:var(--tag-font-size);font-weight:500;color:var(--tag-color);text-align:right;padding:.3em .8em;margin-left:auto;background:var(--tag-bg);border:1px solid var(--tag-border);border-radius:6px;cursor:pointer;user-select:none;transition:all .2s ease;z-index:10;position:relative}.katex-display .equation-tag:hover{background:var(--eqref-hover-bg);border-color:var(--eqref-hover-border);color:var(--eqref-hover-color);transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}.katex-display .equation-tag:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.1)}.katex-display .equation-tag.copied{background:#d1fae5;color:#065f46;border-color:#10b981}@media(prefers-color-scheme:dark){.katex-display .equation-tag.copied{background:#064e3b;color:#6ee7b7;border-color:#10b981}}.katex-display.no-tag{justify-content:center}.katex-display.no-tag>.katex{max-width:100%}.katex:not(.katex-display){font-size:1.08em;vertical-align:middle;margin:0 .15em;padding:.1em .2em;border-radius:3px;transition:background-color .2s ease}.katex:not(.katex-display):hover{background-color:rgba(226,232,240,.3)}@media(prefers-color-scheme:dark){.katex:not(.katex-display):hover{background-color:rgba(71,85,105,.3)}}a.eqref{display:inline-block;font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,sans-serif;font-size:.92em;font-weight:500;color:var(--eqref-color);text-decoration:none;padding:.15em .5em;margin:0 .1em;background-color:var(--eqref-bg);border:1px solid var(--eqref-border);border-radius:4px;transition:all .2s ease}a.eqref:hover{color:var(--eqref-hover-color);background-color:var(--eqref-hover-bg);border-color:var(--eqref-hover-border);text-decoration:none;transform:translateY(-1px);box-shadow:0 2px 4px rgba(49,130,206,.2)}a.eqref:active{transform:translateY(0)}.katex .arraycolsep{width:.5em}.katex .mtable{margin:.5em 0}.katex .aligned{display:inline-block;vertical-align:middle}@media(max-width:1024px){.katex-display{padding:.6em .8em}.katex-display>.katex{max-width:calc(100% - 3.5em)}.katex-display .equation-tag{font-size:.85em;min-width:2.5em;padding:.25em .6em}}@media(max-width:768px){:root{--equation-margin:1.2em;--equation-padding:0.6em;--tag-font-size:0.85em}.katex-display{flex-direction:column;align-items:stretch;gap:.5em;padding:.6em .5em}.katex-display>.katex{max-width:100%;font-size:.95em}.katex-display .equation-tag{align-self:flex-end;margin-left:0;margin-top:.5em;font-size:.8em;padding:.2em .5em;min-width:auto}.katex:not(.katex-display){font-size:1.02em;margin:0 .1em}a.eqref{font-size:.88em;padding:.12em .4em}}@media(max-width:480px){.katex-display>.katex{font-size:.9em}.katex-display .equation-tag{font-size:.75em}.katex:not(.katex-display){font-size:1em}}@media print{.katex-display{page-break-inside:avoid;border-left:1px solid #999;background:0 0}.katex-display .equation-tag{border:1px solid #999}a.eqref{color:#000;text-decoration:underline}}@media(prefers-color-scheme:dark){.katex-display{background-color:rgba(30,41,59,.3);border-left-color:#475569}.katex-display:hover{background-color:rgba(30,41,59,.5);border-left-color:#64748b}}.katex-display:focus-within{outline:2px solid var(--eqref-color);outline-offset:2px}.equation-tag:focus{outline:2px solid var(--eqref-color);outline-offset:2px}.equation-error{color:#dc2626;font-style:italic;font-size:.9em;padding:.2em .5em;background:#fee2e2;border-radius:4px;border:1px solid #fca5a5}@media(prefers-color-scheme:dark){.equation-error{color:#fca5a5;background:#7f1d1d;border-color:#dc2626}}.katex-display.loading{opacity:.6;pointer-events:none}.katex-display.long-formula>.katex>.katex-html{text-align:left;padding-right:1em}.katex-display.align-left{justify-content:flex-start}.katex-display.align-left>.katex{text-align:left}.katex-display.compact{margin:1em 0;padding:.4em .6em}</style><script>const MathRenderer={equationCounter:0,equationLabels:new Map,processedEquations:new Set,init(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.render()):this.render()},render(){try{this.renderMath(),this.processEquationNumbering(),this.processEquationReferences(),this.addAccessibilityFeatures()}catch(e){console.error("数学公式渲染失败:",e)}},renderMath(){const e={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}],trust:e=>["\\ce","\\pu"].includes(e.command),throwOnError:!1,errorColor:"#dc2626",macros:{"\\RR":"\\mathbb{R}","\\NN":"\\mathbb{N}","\\ZZ":"\\mathbb{Z}","\\QQ":"\\mathbb{Q}","\\CC":"\\mathbb{C}","\\PP":"\\mathbb{P}","\\defeq":"\\stackrel{\\text{def}}{=}","\\eqdef":"\\stackrel{\\text{def}}{=}","\\abs":"\\left|#1\\right|","\\norm":"\\left\\|#1\\right\\|","\\inner":"\\left\\langle #1, #2 \\right\\rangle","\\set":"\\left\\{#1\\right\\}","\\bra":"\\left\\langle #1 \\right|","\\ket":"\\left| #1 \\right\\rangle","\\dd":"\\mathrm{d}","\\diff":"\\frac{\\mathrm{d}#1}{\\mathrm{d}#2}","\\pdiff":"\\frac{\\partial #1}{\\partial #2}","\\vec":"\\boldsymbol{#1}","\\mat":"\\boldsymbol{#1}"},strict:!1,trust:e=>{const t=["\\url","\\href","\\includegraphics","\\color","\\textcolor","\\colorbox","\\fcolorbox","\\class","\\cssId","\\style"];return t.includes(e.command)},errorCallback:(e,t)=>{console.warn("KaTeX 渲染错误:"),console.warn("  错误信息:",e.message),console.warn("  公式内容:",t.substring(0,100)+(t.length>100?"...":""))},ignoredTags:["script","noscript","style","textarea","pre","code","option","annotation","annotation-xml","kbd","samp"],ignoredClasses:["no-math","ignore-math","katex-rendered"]};renderMathInElement(document.body,e)},processEquationNumbering(){const e=document.querySelectorAll(".katex-display");e.forEach(e=>{if(this.processedEquations.has(e))return;this.processedEquations.add(e);const s=e.querySelector(".katex");if(!s)return;const o=s.querySelector('annotation[encoding="application/x-tex"]');if(!o)return;const i=o.textContent.trim(),t=i.match(/\\label\{([^}]+)\}/),n=i.match(/\\tag\{([^}]+)\}/);if(t||n){this.equationCounter++;const s=n?n[1]:this.equationCounter;t&&(this.equationLabels.set(t[1],s),e.id=`eq:${t[1]}`,e.setAttribute("data-equation-label",t[1])),this.addEquationTag(e,s,t?t[1]:null)}else e.classList.add("no-tag");this.detectLongFormula(e)})},addEquationTag(e,t,n){const s=document.createElement("span");s.className="equation-tag",s.textContent=`(${t})`,s.setAttribute("role","note"),s.setAttribute("aria-label",`公式编号 ${t}`),s.title=n?`公式编号: ${t}
标签: ${n}
点击复制`:`公式编号: ${t}
点击复制`,s.addEventListener("click",e=>{e.preventDefault(),this.copyToClipboard(`(${t})`,s)}),s.setAttribute("tabindex","0"),s.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.copyToClipboard(`(${t})`,s))}),e.appendChild(s)},copyToClipboard(e,t){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{this.showCopyFeedback(t)}).catch(t=>{console.warn("复制失败:",t),this.fallbackCopy(e)}):this.fallbackCopy(e)},fallbackCopy(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy"),console.log("使用降级方法复制成功")}catch(e){console.error("复制失败:",e)}document.body.removeChild(t)},showCopyFeedback(e){const t=e.textContent,n=e.className;e.textContent="✓ 已复制",e.classList.add("copied"),setTimeout(()=>{e.textContent=t,e.className=n},1500)},detectLongFormula(e){const n=e.querySelector(".katex"),t=n?.querySelector(".katex-html");if(!t)return;const s=new ResizeObserver(()=>{t.scrollWidth>e.clientWidth-80?e.classList.add("long-formula"):e.classList.remove("long-formula")});s.observe(t)},processEquationReferences(){const n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,{acceptNode:e=>e.parentElement?.classList.contains("katex")||e.parentElement?.tagName==="SCRIPT"||e.parentElement?.tagName==="STYLE"?NodeFilter.FILTER_REJECT:e.textContent.includes("\\eqref{")||e.textContent.includes("\\ref{")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),e=[];let t;for(;t=n.nextNode();)e.push(t);e.forEach(e=>{this.replaceReferences(e)})},replaceReferences(e){let t=e.textContent,n=!1;if(t=t.replace(/\\eqref\{([^}]+)\}/g,(e,t)=>{n=!0;const s=this.equationLabels.get(t);return s!==0[0]?`<a href="#eq:${t}" class="eqref" title="跳转到公式 ${s}">(${s})</a>`:`<span class="equation-error" title="未找到标签: ${t}">[公式 ${t} 未找到]</span>`}),t=t.replace(/\\ref\{([^}]+)\}/g,(e,t)=>{n=!0;const s=this.equationLabels.get(t);return s!==0[0]?`<a href="#eq:${t}" class="eqref" title="跳转到公式 ${s}">${s}</a>`:`<span class="equation-error" title="未找到标签: ${t}">[${t}]</span>`}),n){const n=document.createElement("span");n.innerHTML=t,e.parentNode.replaceChild(n,e)}},addAccessibilityFeatures(){document.querySelectorAll(".katex-display").forEach((e,t)=>{if(!e.getAttribute("aria-label")){const n=e.getAttribute("data-equation-label"),s=n?`数学公式: ${n}`:`数学公式 ${t+1}`;e.setAttribute("aria-label",s)}})}};MathRenderer.init()</script><link rel=icon href=/favicon.ico><link rel=apple-touch-icon href=/apple-touch-icon.png><meta name=generator content="Hugo 0.155.2"><meta itemprop=name content="创建一个远程编译环境"><meta itemprop=description content="我使用的是 Mac，所以以下都是 Mac 的说明
一、前端（ts、react） 前端配置：TypeScript、React 依赖项：axios、codemirror、react-codemirror2
1. 初始化模板 任意选一个就行
1.1 交互式 npm init vite 可能需要先安装 npm install vite --save-dev
caoyang@cccy del % npm init vite # 使用 上下键 选择 ✔ Project name: … playground # playground 是项目名称，它会创建一个该名称的文件夹作为项目根目录 ✔ Select a framework: › React # 使用 React 库 ✔ Select a variant: › TypeScript # 使用 TS 语言开发 Scaffolding project in /Users/caoyang/Documents/Aptos/del/playground... Done. Now run: # 需要先运行以下代码 cd playground npm install npm run dev 1.2 一键创建 npm init vite playground -- --template react-ts 或者"><meta itemprop=datePublished content="2024-04-29T09:31:37+08:00"><meta itemprop=dateModified content="2025-01-23T01:00:04+08:00"><meta itemprop=wordCount content="3875"><meta itemprop=keywords content="Move"><meta property="og:url" content="https://simons.qzz.io/es/post/2024/04/a_code_env/"><meta property="og:site_name" content="cyrus reggie"><meta property="og:title" content="创建一个远程编译环境"><meta property="og:description" content="我使用的是 Mac，所以以下都是 Mac 的说明
一、前端（ts、react） 前端配置：TypeScript、React 依赖项：axios、codemirror、react-codemirror2
1. 初始化模板 任意选一个就行
1.1 交互式 npm init vite 可能需要先安装 npm install vite --save-dev
caoyang@cccy del % npm init vite # 使用 上下键 选择 ✔ Project name: … playground # playground 是项目名称，它会创建一个该名称的文件夹作为项目根目录 ✔ Select a framework: › React # 使用 React 库 ✔ Select a variant: › TypeScript # 使用 TS 语言开发 Scaffolding project in /Users/caoyang/Documents/Aptos/del/playground... Done. Now run: # 需要先运行以下代码 cd playground npm install npm run dev 1.2 一键创建 npm init vite playground -- --template react-ts 或者"><meta property="og:locale" content="es_ES"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-29T09:31:37+08:00"><meta property="article:modified_time" content="2025-01-23T01:00:04+08:00"><meta property="article:tag" content="Move"><meta name=twitter:card content="summary"><meta name=twitter:title content="创建一个远程编译环境"><meta name=twitter:description content="我使用的是 Mac，所以以下都是 Mac 的说明
一、前端（ts、react） 前端配置：TypeScript、React 依赖项：axios、codemirror、react-codemirror2
1. 初始化模板 任意选一个就行
1.1 交互式 npm init vite 可能需要先安装 npm install vite --save-dev
caoyang@cccy del % npm init vite # 使用 上下键 选择 ✔ Project name: … playground # playground 是项目名称，它会创建一个该名称的文件夹作为项目根目录 ✔ Select a framework: › React # 使用 React 库 ✔ Select a variant: › TypeScript # 使用 TS 语言开发 Scaffolding project in /Users/caoyang/Documents/Aptos/del/playground... Done. Now run: # 需要先运行以下代码 cd playground npm install npm run dev 1.2 一键创建 npm init vite playground -- --template react-ts 或者"><link rel=canonical href=https://simons.qzz.io/es/post/2024/04/a_code_env/></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-12 px-8 lg:justify-center"><div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center max-w-[--w]"><a class="-translate-y-[1px] text-2xl font-medium" href=https://simons.qzz.io/>cyrus reggie</a><div class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer
[background:url(/theme.png)_left_center/_auto_theme('spacing.6')_no-repeat]
[transition:_background-position_0.4s_steps(5)]
dark:[background-position:right]" role=button aria-label="Toggle theme"></div></div><div class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[3rem] w-[5rem]
shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label="Toggle menu"></div><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-0 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu" href=/es/>Inicio
</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu" href=/es/about/>Acerca de
</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu" href=/es/contact/>Contacto
</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu" href=/es/guestbook/>Libro de visitas
</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu" href=/es/search/>Buscar</a><div class=language-selector><div class="inline-block text-left dropdown"><div><p class=selected-language>Español</p></div><div style=background-color:red;z-index:1000><ul class=dropdown-menu id=dropdownMenu><li><a href=/en/post/2024/04/a_code_env/ class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role=menuitem>English</a></li></ul></div></div><script>const dropdownButton=document.getElementById("dropdownButton"),dropdownMenu=document.getElementById("dropdownMenu"),dropdownIcon=document.querySelector(".dropdown-icon");dropdownButton.addEventListener("click",function(){dropdownMenu.classList.toggle("show"),dropdownButton.parentElement.classList.toggle("open")}),dropdownMenu.querySelectorAll("li").forEach(e=>{e.addEventListener("click",function(){dropdownButton.textContent=e.textContent+" ",dropdownButton.appendChild(dropdownIcon),dropdownMenu.classList.remove("show"),dropdownButton.parentElement.classList.remove("open");const t=e.getAttribute("data-value");console.log("Selected Language:",t)})}),document.addEventListener("click",function(e){!dropdownButton.contains(e.target)&&!dropdownMenu.contains(e.target)&&(dropdownMenu.classList.remove("show"),dropdownButton.parentElement.classList.remove("open"))})</script><style>.dropdown{display:inline-block;margin:0}.dropdown-menu{background-color:#fff;border:1px solid #ddd;border-radius:8px;padding:0;margin:0;display:none}.dropdown-menu.show{display:block}.dropdown-menu li{padding:.2rem;cursor:pointer;color:#333}.dropdown-menu>li:hover{background-color:initial}.selected-language:hover{color:#0042da}</style></div></nav></div><style>.language-selector{position:relative;display:inline-block;z-index:10}.language-selector .dropdown-menu{display:none;position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 4px 8px rgba(0,0,0,.1);z-index:50}.language-selector:hover .dropdown-menu{display:block}</style></header><script>const htmlClass=document.documentElement.classList;setTimeout(()=>htmlClass.remove("not-ready"),10);const btnMenu=document.querySelector(".btn-menu");btnMenu&&btnMenu.addEventListener("click",()=>{htmlClass.toggle("open"),htmlClass.toggle("close")});const themeManager={metaTheme:document.querySelector('meta[name="theme-color"]'),lightBg:"#faf8f1".replace(/"/g,""),btnDark:document.querySelector(".btn-dark"),init(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("dark")==="true"||localStorage.getItem("dark")===null&&e.matches;this.setTheme(t),e.addEventListener("change",e=>this.setTheme(e.matches)),this.btnDark&&this.btnDark.addEventListener("click",()=>this.toggleTheme())},setTheme(e){this.metaTheme?.setAttribute("content",e?"#000":this.lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},toggleTheme(){this.setTheme(localStorage.getItem("dark")!=="true")}};themeManager.init()</script><style>header{position:fixed;top:0;left:0;right:0;z-index:50;width:100vw;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);background:rgba(255,255,255,.5);box-shadow:0 4px 30px rgba(0,0,0,.1)}.header-menu:hover{color:#0042da}</style><div class="relative flex justify-start max-w-[90vw] px-8"><main class="min-h-[calc(100vh-5rem)] py-12 prose prose-neutral flex-1 dark:prose-invert text-left max-w-full lg:max-w-4xl xl:max-w-6xl"><article class=text-left><div class="mb-14 mt-8"><h1 class="!my-0 pb-2.5">创建一个远程编译环境</h1><div class="text-xs antialiased opacity-60"><time>lunes, 29 de abril de 2024
</time><span class=mx-1>&#183;</span>
<span>simons
</span><span class=mx-1>&#183;</span>
<span class=post-date>本文共 3875
个字 ， 预计需要阅读 8
分钟</span></div><span class="text-md antialiased opacity-60"><a href=https://simons.qzz.io/tags/move class="mb-2 ltr:mr-1.5 rtl:ml-1.5 px-3 py-1 rounded-lg no-underline bg-black/[3%] hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]">move</a></span></div><section><blockquote><p>我使用的是 Mac，所以以下都是 Mac 的说明</p></blockquote><h1 id=一前端tsreact>一、前端（ts、react）</h1><blockquote><p>前端配置：TypeScript、React
依赖项：axios、codemirror、react-codemirror2</p></blockquote><h2 id=1-初始化模板>1. 初始化模板</h2><blockquote><p>任意选一个就行</p></blockquote><h3 id=11-交互式>1.1 交互式</h3><div class=code-playground data-language=bash><div><pre><code class=language-bash>npm init vite</code></pre></div></div><blockquote><p>可能需要先安装
<code>npm install vite --save-dev</code></p></blockquote><div><pre><code class=language- data-lang>caoyang@cccy del % npm init vite
# 使用 上下键 选择
✔ Project name: … playground  # playground 是项目名称，它会创建一个该名称的文件夹作为项目根目录
✔ Select a framework: › React  # 使用 React 库
✔ Select a variant: › TypeScript  # 使用 TS 语言开发

Scaffolding project in /Users/caoyang/Documents/Aptos/del/playground...

Done. Now run:

# 需要先运行以下代码
  cd playground
  npm install
  npm run dev</code></pre></div><h3 id=12-一键创建>1.2 一键创建</h3><div class=code-playground data-language=bash><div><pre><code class=language-bash>npm init vite playground -- --template react-ts</code></pre></div></div><p>或者</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>npx create-vite playground --template react-ts</code></pre></div></div><p>或者</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>npm init @vitejs/app playground -- --template react-ts</code></pre></div></div><p>{bs-accord style=line title=解析}
<code>npm init vite</code> : 是一个 npm 初始化命令，它使用了 Vite 工具，
<code>my-react-ts-app</code> : 是您希望创建的项目的名称。
<code>--</code> : 是用来分隔 npm 命令行选项和参数的，
<code>--template react-ts</code> : 是向 Vite 提供的选项，它告诉 Vite 使用 React TypeScript 模板来生成项目。
{/bs-accord}</p><h2 id=2-安装并运行模板>2. 安装并运行模板</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash># 需要先运行以下代码
  cd playground
  npm install
  npm run dev</code></pre></div></div><blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>caoyang@cccy playground %   npm install
added 218 packages, and audited 219 packages in 59s
41 packages are looking for funding
 run `npm fund` for details
found 0 vulnerabilities</code></pre></div></div></blockquote><blockquote><p>在 vscode 中打开，并编辑</p></blockquote><h2 id=3-删除不需要的文件>3. 删除不需要的文件</h2><p>建议删除，否则可能出现非预期的情况</p><ul><li><code>public / vite.svg</code></li><li><code>src / App.css</code></li><li><code>src / index.css</code></li><li>删除 <code>App.tsx</code> 和 <code>main.tsx</code> 中的导入</li></ul><h2 id=4-创建-playgroundtsx-组件>4. 创建 <code>playground.tsx</code> 组件</h2><blockquote><p>安装依赖项</p></blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>npm install axios codemirror react-codemirror2
# 或者
npm install axios codemirror react-codemirror2 --legacy-peer-deps
# 或者
npm install axios@1.6.8 codemirror@5.65.16 react@18.2.0 react-codemirror2@7.3.0 react-dom@18.2.0</code></pre></div></div><div><pre><code class=language-tsx data-lang=tsx>import React, { useState } from &#39;react&#39;;
import { Controlled as CodeMirror } from &#39;react-codemirror2&#39;;
import axios from &#39;axios&#39;;
import &#39;codemirror/lib/codemirror.css&#39;;
import &#39;codemirror/theme/material.css&#39;;
import &#39;./move.js&#39;; // 导入 move.js 文件

const Playground: React.FC = () =&gt; {
	const [code, setCode] = useState(&#39;&#39;);
	const [output, setOutput] = useState(&#39;&#39;);

	const handleCodeChange = (editor: any, data: any, value: string) =&gt; {
		setCode(value);
	};

	const executeCode = async () =&gt; {
		try {
			// 发送 Move 代码到后端服务
			const response = await axios.post(&#39;http://127.0.0.1:8081/run_move&#39;, code);
			setOutput(response.data);
		} catch (error) {
			console.error(&#39;执行 Move 代码时出错:&#39;, error);
		}


	};

	return (
		&lt;div&gt;
			&lt;CodeMirror
				value={code}
				options={{
					mode: &#39;move&#39;, // 使用 move 模式
					theme: &#39;material&#39;,
					lineNumbers: true,
				}}
				onBeforeChange={(editor, data, value) =&gt; {
					setCode(value);
				}}
				onChange={handleCodeChange}
			/&gt;
			&lt;button onClick={executeCode}&gt;执行&lt;/button&gt;
			&lt;div&gt;
				&lt;h3&gt;执行结果:&lt;/h3&gt;
				&lt;pre&gt;{output}&lt;/pre&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	);
};

export default Playground;</code></pre></div><h2 id=5-修改maintsx>5. 修改<code>main.tsx</code></h2><div><pre><code class=language-tsx data-lang=tsx>import React from &#39;react&#39;
import ReactDOM from &#39;react-dom/client&#39;
import App from &#39;./App.tsx&#39;

ReactDOM.createRoot(document.getElementById(&#39;root&#39;)!).render(
  // &lt;React.StrictMode&gt;
  &lt;App /&gt;
  // &lt;/React.StrictMode&gt;,
)</code></pre></div><h2 id=6-修改apptsx>6. 修改<code>App.tsx</code></h2><div><pre><code class=language-tsx data-lang=tsx>import { useState } from &#39;react&#39;
import Playground from &#39;./playground&#39;

function App() {
  const [count, setCount] = useState(0)

  return (
    &lt;&gt;
      &lt;Playground /&gt;
    &lt;/&gt;
  )
}

export default App</code></pre></div><h2 id=7-创建语法高亮-movejs>7. 创建语法高亮 <code>move.js</code></h2><blockquote><p>这部分没有完全适配，只是一个 rust 模板。</p></blockquote><div class=code-playground data-language=js><div><pre><code class=language-js>import CodeMirror from &#39;codemirror&#39;;

CodeMirror.defineMode(&#34;move&#34;, function (config, parserConfig) {
	var indentUnit = config.indentUnit,
		statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,
		dontAlignCalls = parserConfig.dontAlignCalls,
		keywords = parserConfig.keywords || {},
		builtin = parserConfig.builtin || {},
		blockKeywords = parserConfig.blockKeywords || {},
		atoms = parserConfig.atoms || {},
		hooks = parserConfig.hooks || {},
		multiLineStrings = parserConfig.multiLineStrings;
	var isOperatorChar = /[&#43;\-*&amp;%=&lt;&gt;!?|\/]/;

	var curPunc;

	function tokenBase(stream, state) {
		var ch = stream.next();
		if (hooks[ch]) {
			var result = hooks[ch](stream, state);
			if (result !== false) return result;
		}
		if (ch == &#39;&#34;&#39; || ch == &#34;&#39;&#34;) {
			state.tokenize = tokenString(ch);
			return state.tokenize(stream, state);
		}
		if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
			curPunc = ch;
			return null;
		}
		if (/\d/.test(ch)) {
			stream.eatWhile(/[\w\.]/);
			return &#34;number&#34;;
		}
		if (ch == &#34;/&#34;) {
			if (stream.eat(&#34;*&#34;)) {
				state.tokenize = tokenComment;
				return tokenComment(stream, state);
			}
			if (stream.eat(&#34;/&#34;)) {
				stream.skipToEnd();
				return &#34;comment&#34;;
			}
		}
		if (isOperatorChar.test(ch)) {
			stream.eatWhile(isOperatorChar);
			return &#34;operator&#34;;
		}
		stream.eatWhile(/[\w\$_]/);
		var cur = stream.current();
		if (keywords.propertyIsEnumerable(cur)) {
			if (blockKeywords.propertyIsEnumerable(cur)) curPunc = &#34;newstatement&#34;;
			return &#34;keyword&#34;;
		}
		if (builtin.propertyIsEnumerable(cur)) {
			if (blockKeywords.propertyIsEnumerable(cur)) curPunc = &#34;newstatement&#34;;
			return &#34;builtin&#34;;
		}
		if (atoms.propertyIsEnumerable(cur)) return &#34;atom&#34;;
		return &#34;variable&#34;;
	}

	function tokenString(quote) {
		return function (stream, state) {
			var escaped = false, next, end = false;
			while ((next = stream.next()) != null) {
				if (next == quote &amp;&amp; !escaped) { end = true; break; }
				escaped = !escaped &amp;&amp; next == &#34;\\&#34;;
			}
			if (end || !(escaped || multiLineStrings))
				state.tokenize = null;
			return &#34;string&#34;;
		};
	}

	function tokenComment(stream, state) {
		var maybeEnd = false, ch;
		while (ch = stream.next()) {
			if (ch == &#34;/&#34; &amp;&amp; maybeEnd) {
				state.tokenize = null;
				break;
			}
			maybeEnd = (ch == &#34;*&#34;);
		}
		return &#34;comment&#34;;
	}

	function Context(indented, column, type, align, prev) {
		this.indented = indented;
		this.column = column;
		this.type = type;
		this.align = align;
		this.prev = prev;
	}
	function pushContext(state, col, type) {
		var indent = state.indented;
		if (state.context &amp;&amp; state.context.type == &#34;statement&#34;)
			indent = state.context.indented;
		return state.context = new Context(indent, col, type, null, state.context);
	}
	function popContext(state) {
		var t = state.context.type;
		if (t == &#34;)&#34; || t == &#34;]&#34; || t == &#34;}&#34;)
			state.indented = state.context.indented;
		return state.context = state.context.prev;
	}

	// Interface

	return {
		startState: function (basecolumn) {
			return {
				tokenize: null,
				context: new Context((basecolumn || 0) - indentUnit, 0, &#34;top&#34;, false),
				indented: 0,
				startOfLine: true
			};
		},

		token: function (stream, state) {
			var ctx = state.context;
			if (stream.sol()) {
				if (ctx.align == null) ctx.align = false;
				state.indented = stream.indentation();
				state.startOfLine = true;
			}
			if (stream.eatSpace()) return null;
			curPunc = null;
			var style = (state.tokenize || tokenBase)(stream, state);
			if (style == &#34;comment&#34; || style == &#34;meta&#34;) return style;
			if (ctx.align == null) ctx.align = true;

			if ((curPunc == &#34;;&#34; || curPunc == &#34;:&#34; || curPunc == &#34;,&#34;) &amp;&amp; ctx.type == &#34;statement&#34;) popContext(state);
			else if (curPunc == &#34;{&#34;) pushContext(state, stream.column(), &#34;}&#34;);
			else if (curPunc == &#34;[&#34;) pushContext(state, stream.column(), &#34;]&#34;);
			else if (curPunc == &#34;(&#34;) pushContext(state, stream.column(), &#34;)&#34;);
			else if (curPunc == &#34;}&#34;) {
				while (ctx.type == &#34;statement&#34;) ctx = popContext(state);
				if (ctx.type == &#34;}&#34;) ctx = popContext(state);
				while (ctx.type == &#34;statement&#34;) ctx = popContext(state);
			}
			else if (curPunc == ctx.type) popContext(state);
			else if (((ctx.type == &#34;}&#34; || ctx.type == &#34;top&#34;) &amp;&amp; curPunc != &#39;;&#39;) || (ctx.type == &#34;statement&#34; &amp;&amp; curPunc == &#34;newstatement&#34;))
				pushContext(state, stream.column(), &#34;statement&#34;);
			state.startOfLine = false;
			return style;
		},

		indent: function (state, textAfter) {
			if (state.tokenize != tokenBase &amp;&amp; state.tokenize != null) return CodeMirror.Pass;
			var ctx = state.context, firstChar = textAfter &amp;&amp; textAfter.charAt(0);
			if (ctx.type == &#34;statement&#34; &amp;&amp; firstChar == &#34;}&#34;) ctx = ctx.prev;
			var closing = firstChar == ctx.type;
			if (ctx.type == &#34;statement&#34;) return ctx.indented &#43; (firstChar == &#34;{&#34; ? 0 : statementIndentUnit);
			else if (ctx.align &amp;&amp; (!dontAlignCalls || ctx.type != &#34;)&#34;)) return ctx.column &#43; (closing ? 0 : 1);
			else if (ctx.type == &#34;)&#34; &amp;&amp; !closing) return ctx.indented &#43; statementIndentUnit;
			else return ctx.indented &#43; (closing ? 0 : indentUnit);
		},

		electricChars: &#34;{}&#34;,
		blockCommentStart: &#34;/*&#34;,
		blockCommentEnd: &#34;*/&#34;,
		lineComment: &#34;//&#34;,
		fold: &#34;brace&#34;
	};
});

(function () {
	function words(str) {
		var obj = {}, words = str.split(&#34; &#34;);
		for (var i = 0; i &lt; words.length; &#43;&#43;i) obj[words[i]] = true;
		return obj;
	}
	var rustKeywords = &#34;abstract async await become box break const continue crate do dyn else enum extern false fn for if impl in let loop macro match mod move mut pub ref return self Self static struct super trait true type union unsafe use where while yield&#34;;

	function rustHook(stream, state) {
		if (!state.startOfLine) return false;
		for (; ;) {
			if (stream.skipTo(&#34;\\&#34;)) {
				stream.next();
				if (stream.eol()) {
					state.tokenize = rustHook;
					break;
				}
			} else {
				stream.skipToEnd();
				state.tokenize = null;
				break;
			}
		}
		return &#34;meta&#34;;
	}

	// Rust-style strings where &#34;&#34; escapes a quote.
	function tokenAtString(stream, state) {
		var next;
		while ((next = stream.next()) != null) {
			if (next == &#39;&#34;&#39; &amp;&amp; !stream.eat(&#39;&#34;&#39;)) {
				state.tokenize = null;
				break;
			}
		}
		return &#34;string&#34;;
	}

	function mimes(ms, mode) {
		for (var i = 0; i &lt; ms.length; &#43;&#43;i) CodeMirror.defineMIME(ms[i], mode);
	}

	mimes([&#34;text/x-rustsrc&#34;, &#34;text/x-rust&#34;], {
		name: &#34;rust&#34;,
		keywords: words(rustKeywords),
		blockKeywords: words(&#34;enum struct&#34;),
		atoms: words(&#34;true false None Some&#34;),
		hooks: { &#34;#&#34;: rustHook }
	});
}());</code></pre></div></div><h2 id=8-测试运行>8. 测试运行</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash>npm run dev</code></pre></div></div><p>访问页面</p><div class=code-playground data-language=bash><div><pre><code class=language-bash> VITE v5.2.8  ready in 177 ms

  ➜  Local:   http://localhost:5173/  # 访问这个地址可以打开
  ➜  Network: use --host to expose
  ➜  press h &#43; enter to show help</code></pre></div></div><blockquote><p>如果无法运行
报错：</p><div class=code-playground data-language=bash><div><pre><code class=language-bash> [vite] Internal server error: Missing &#34;./lib/codemirror.css&#34; specifier in &#34;codemirror&#34; package</code></pre></div></div><p>检查 <code>paclage.json</code> 中的 <code>"codemirror": "^5.65.16"</code> 版本是否正确</p></blockquote><p><figure class="my-8 text-center"><img src=https://www.caoyang2002.top/usr/uploads/2024/04/2369201853.png alt=前端 class="mx-auto max-w-full h-auto" loading=lazy><figcaption class="mt-3 text-sm text-gray-600 dark:text-gray-400">前端</figcaption></figure></p><blockquote><p>这时候点击 <code>执行</code> 会出错，因为还没写服务端</p></blockquote><h1 id=二服务端rust>二、服务端（rust）</h1><h2 id=1-安装-rust安装-rust-时会默认安装-cargo>1. 安装 Rust（安装 Rust 时会默认安装 Cargo）</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></pre></div></div><blockquote><p>按照提示操作，选择默认选项安装即可。</p></blockquote><h2 id=2-rust-环境>2. Rust 环境</h2><blockquote><p>安装完成后，根据终端中的提示，运行以下命令将 Rust 工具链添加到您的 shell 环境中：</p></blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>source $HOME/.cargo/env</code></pre></div></div><h2 id=3-验证安装>3. 验证安装</h2><blockquote><p>在终端中运行以下命令来验证 Rust 和 Cargo 是否成功安装：</p></blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>rustc --version # 或者 rustc -V
cargo --version   # 或者 cargo -V</code></pre></div></div><blockquote><p>查看帮助</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>rustc --help
cargo --help
cargo run --help
cargo build --help</code></pre></div></div></blockquote><h2 id=4-创建-rust-项目>4. 创建 Rust 项目</h2><blockquote><p>在您选择的目录中，打开终端。</p></blockquote><p>创建一个新的 Rust 项目</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>cargo new rust_move_server  # rust_move_server 是项目的名称，它会创建一个该名称的文件夹作为项目根目录</code></pre></div></div><p>{bs-accord style=line title=文件解析}
<code>Cargo.toml</code> 是 Rust 项目的配置文件，类似于其他语言中的 package.json 或者 requirements.txt。它用来指定项目的元数据、依赖项以及构建配置等信息。您可以在 Cargo.toml 中指定项目的名称、版本号、作者信息等，同时也可以列出项目的依赖项和构建脚本。</p><p><code>src</code> 目录是 Rust 项目的源代码目录，其中包含了您编写的 Rust 源代码文件。通常情况下，Rust 项目的主要源代码文件会放在 src 目录下。您可以在 src 目录中创建 Rust 源代码文件（通常以 .rs 扩展名结尾），并在这些文件中编写 Rust 代码来实现项目的功能。</p><blockquote><p>初始的 <code>src</code> 目录内包含一个 <code>main.rs</code> 文件</p><div class=code-playground data-language=rust><div><pre><code class=language-rust>fn main() {
    println!(&#34;Hello, world!&#34;);
}</code></pre></div></div></blockquote><p>{/bs-accord}</p><h2 id=5-进入项目目录>5. 进入项目目录</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash>cd rust_move_server</code></pre></div></div><blockquote><p>进入您新创建的项目目录。</p></blockquote><h2 id=6-构建项目>6. 构建项目</h2><blockquote><p>您新创建的项目目录内</p></blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>cargo build</code></pre></div></div><blockquote><p>Cargo 将会自动下载和构建项目的依赖项，并生成可执行文件。</p></blockquote><h2 id=7-运行项目>7. 运行项目</h2><blockquote><p>构建完成后，您可以在项目目录中找到生成的可执行文件。</p></blockquote><p>执行项目</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>./target/debug/your_project_name</code></pre></div></div><p>{bs-accord style=line title=构建同时运行}</p><div class=code-playground data-language=bash><div><pre><code class=language-bash>cargo run</code></pre></div></div><p>用于构建并运行 Rust 项目的可执行文件。它实际上是 <code>cargo build</code> 和执行生成的可执行文件的组合操作。</p><p>具体来说，<code>cargo run</code> 命令会执行以下操作：</p><ol><li><p><strong>构建项目</strong>：如果项目尚未构建，<code>cargo run</code> 会首先执行与 <code>cargo build</code> 相同的操作，即编译 Rust 项目的源代码并生成可执行文件。如果项目已经构建过，它会跳过这一步，除非代码或依赖项发生了变化。</p></li><li><p><strong>运行可执行文件</strong>：一旦项目构建完成，<code>cargo run</code> 会自动在项目的 <code>target/debug</code> 目录中查找生成的可执行文件，并将其运行起来。如果项目是库项目而不是可执行文件项目，则 <code>cargo run</code> 不会执行任何操作，因为库项目没有可执行文件。</p></li><li><p><strong>传递参数</strong>：<code>cargo run</code> 命令可以接受额外的参数，并将它们传递给生成的可执行文件。这些参数可以在执行可执行文件时使用，例如指定程序的运行配置或传递运行时参数。
{/bs-accord}</p></li></ol><h2 id=8-写入-rust-服务端代码>8. 写入 Rust 服务端代码</h2><h3 id=81-配置依赖项-cargotoml>8.1 配置依赖项 <code>Cargo.toml</code></h3><div class=code-playground data-language=bash><div><pre><code class=language-bash>[package]
name = &#34;test_server&#34;
version = &#34;0.1.0&#34;
edition = &#34;2021&#34;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
actix-web = &#34;4.0&#34;
actix-cors = { version = &#34;0.6.0-beta.10&#34; }</code></pre></div></div><h3 id=82-写入rust-代码>8.2 写入Rust 代码</h3><div class=code-playground data-language=bash><div><pre><code class=language-bash>use actix_web::{web, App, HttpResponse, HttpServer, Responder};
use std::process::{Command, Stdio};
use std::fs;
use std::path::Path;
use std::str;
use actix_cors::Cors;

async fn compile_and_run_move(move_code: web::Bytes) -&gt; impl Responder {
    println!(&#34;Received Move code: {:?}&#34;, move_code);
    // 创建临时文件目录
    let tmp_dir = &#34;/tmp&#34;;
    if !Path::new(tmp_dir).exists() {
        fs::create_dir(tmp_dir).expect(&#34;Failed to create temporary directory&#34;);
    }

    // 将接收到的 Move 代码写入临时文件
    let tmp_file = &#34;/Users/caoyang/Documents/Aptos/ts_playground/move_code/sources/test.move&#34;;
    fs::write(tmp_file, move_code).expect(&#34;写入文件：Failed to write Move code to file&#34;);

    // 编译 Move 代码
let compile_output = Command::new(&#34;aptos&#34;)
    .arg(&#34;move&#34;)
    .arg(&#34;test&#34;)
    .arg(&#34;--package-dir&#34;)
    .arg(&#34;/Users/caoyang/Documents/Aptos/ts_playground/move_code&#34;)
    .output()
    .expect(&#34;Failed to execute aptos move test command&#34;);

if !compile_output.status.success() {
    let stderr = str::from_utf8(&amp;compile_output.stderr).unwrap_or(&#34;Error reading stderr&#34;);
    return HttpResponse::InternalServerError().body(format!(&#34;Move compilation failed: {}&#34;, stderr));
}

    // 将运行结果作为响应返回给客户端
    HttpResponse::Ok().body(String::from_utf8_lossy(&amp;compile_output.stdout).to_string())
}


#[actix_web::main]
async fn main() -&gt; std::io::Result&lt;()&gt; {
    // 启动服务器
    HttpServer::new(|| {
        App::new()
            // 添加CORS中间件
            .wrap(
                Cors::permissive() // &lt;- 使用 Cors::permissive() 替换 Cors::new()
                    .allowed_origin(&#34;http://localhost:5173&#34;)
            )
            // 定义路由
            .route(&#34;/run_move&#34;, web::post().to(compile_and_run_move))
    })
    .bind(&#34;127.0.0.1:8081&#34;)?
    .run()
    .await
}</code></pre></div></div><h2 id=9-发送-post-请求进行测试>9. 发送 post 请求进行测试</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash> curl -X POST -d &#39;module 0x12::test{
  use std::debug::print;
  use std::string::utf8;
  #[test]
  fun test_server(){
    print(&amp;utf8(b&#34;server is running&#34;));
  }
}&#39; http://127.0.0.1:8081/run_move</code></pre></div></div><h2 id=rust-部分完成>Rust 部分完成</h2><h1 id=三move-临时代码>三、move 临时代码</h1><blockquote><p>这个目录主要是用于存储前端的代码，然后执行这段代码，将结果返回给前端</p></blockquote><ul><li>先创建目录</li></ul><div class=code-playground data-language=bash><div><pre><code class=language-bash>mkdir move_code_tmp
cd move_code_tmp</code></pre></div></div><h2 id=1-初始化-move-项目>1. 初始化 Move 项目</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash>aptos move init  --name move_code</code></pre></div></div><blockquote><p>这个命令会在当前目录下初始化一个 move 项目，不会新创建项目，
根据提示输入内容，或者直接回车
创建的 <code>Move.toml</code> 包含了程序的配置信息</p></blockquote><p>返回结果</p><blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>caoyang@cccy move_code_tmp % aptos move init  --name move_code
{
 &#34;Result&#34;: &#34;Success&#34;
}</code></pre></div></div></blockquote><h2 id=2-初始化-aptos-账户>2. 初始化 aptos 账户</h2><div class=code-playground data-language=bash><div><pre><code class=language-bash>aptos init --network testnet</code></pre></div></div><blockquote><p>这个命令会在 <code>.aptos</code> 目录下创建一个 <code>config.yaml</code> 文件，这个文件包含了账户的所有信息</p></blockquote><p>返回结果</p><blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>caoyang@cccy move_code_tmp % aptos init --network testnet
Configuring for profile default
Configuring for network Testnet
Enter your private key as a hex literal (0x...) [Current: None | No input: Generate new key (or keep one if present)]
 No key given, generating key...
 Account 0x3846fb4052a41807816c58611911e913526e2370cd97a160025cc7dc670efeff doesn&#39;t exist, creating it and funding it with 100000000 Octas
 Account 0x3846fb4052a41807816c58611911e913526e2370cd97a160025cc7dc670efeff funded successfully
 ---
 Aptos CLI is now set up for account 0x3846fb4052a41807816c58611911e913526e2370cd97a160025cc7dc670efeff as profile default!  Run `aptos --help` for more information about commands
 {
   &#34;Result&#34;: &#34;Success&#34;
   }</code></pre></div></div></blockquote><h2 id=3-创建临时-move-代码文件-tempmove>3. 创建临时 Move 代码文件 <code>temp.move</code></h2><blockquote><p>用于临时存储前端发送的 Move 代码，并执行代码</p></blockquote><h3 id=31-输入一段-move-代码>3.1 输入一段 Move 代码</h3><div><pre><code class=language-move data-lang=move>module 0x42::test{
    use std::debug::print;
	  use std::string::utf8;
    #[test]
    fun test_my(){
        print(&amp;utf8(b&#34;server is running&#34;));
    }
}</code></pre></div><h3 id=32-测试运行>3.2 测试运行</h3><div class=code-playground data-language=bash><div><pre><code class=language-bash>aptos move test</code></pre></div></div><p>返回的结果</p><blockquote><div class=code-playground data-language=bash><div><pre><code class=language-bash>caoyang@cccy move_code_tmp % aptos move test
INCLUDING DEPENDENCY AptosFramework
INCLUDING DEPENDENCY AptosStdlib
INCLUDING DEPENDENCY MoveStdlib
BUILDING move_code
warning: unused alias
  ┌─ /Users/caoyang/Documents/Aptos/del/move_code_tmp/sources/temp.move:2:21
  │
2 │     use std::debug::print;
  │                     ^^^^^ Unused &#39;use&#39; of alias &#39;print&#39;. Consider removing it    # 这是正常的，因为未使用

warning: unused alias
  ┌─ /Users/caoyang/Documents/Aptos/del/move_code_tmp/sources/temp.move:3:21
  │
3 │       use std::string::utf8;
  │                        ^^^^ Unused &#39;use&#39; of alias &#39;utf8&#39;. Consider removing it    # 这是正常的，因为未使用

Running Move unit tests
[debug] &#34;server is running&#34;   # 输出了源码中预期的结果
[ PASS    ] 0x42::test::test_my
Test result: OK. Total tests: 1; passed: 1; failed: 0
{
  &#34;Result&#34;: &#34;Success&#34;
}</code></pre></div></div></blockquote><h2 id=move-部分完成>Move 部分完成</h2><h1 id=四测试>四、测试</h1><blockquote><p>输入以下代码后，点击 <code>执行</code>，等待一段时间后，可以看到执行结果区域有输出</p></blockquote><div><pre><code class=language-move data-lang=move>module 0x12::test{
  use std::debug::print;
  use std::string::utf8;
  #[test]
  fun test_server(){
    print(&amp;utf8(b&#34;server is running&#34;));
  }
}</code></pre></div><p><figure class="my-8 text-center"><img src=https://www.caoyang2002.top/usr/uploads/2024/04/2477546867.png alt class="mx-auto max-w-full h-auto" loading=lazy><figcaption class="mt-3 text-sm text-gray-600 dark:text-gray-400">图片无描述</figcaption></figure></p><h1 id=五目录结构>五、目录结构</h1><div class=code-playground data-language=bash><div><pre><code class=language-bash> tree -I &#39;node_modules|build|target&#39; ./</code></pre></div></div><div class=code-playground data-language=bash><div><pre><code class=language-bash>caoyang@cccy ts_playground % tree -I &#39;node_modules|build|target&#39; ./
./
├── move_code   # move 程序代码
│   ├── Move.toml  # 可以更换为国内源
│   ├── scripts
│   ├── sources
│   │   └── temp.move  # move 临时代码
│   └── tests
├── playground
│   ├── README.md
│   ├── codemirror.d.ts
│   ├── index.html
│   ├── package-lock.json
│   ├── package.json
│   ├── public
│   │   └── vite.svg # 这个可以删掉
│   ├── src
│   │   ├── App.tsx # 取消严格模式，防止渲染两个输入框
│   │   ├── assets
│   │   │   └── react.svg  # 这个可以删掉
│   │   ├── main.tsx
│   │   ├── move.js  # 高亮语法
│   │   ├── playground.tsx  # 文本编辑器
│   │   └── vite-env.d.ts
│   ├── tsconfig.json
│   ├── tsconfig.node.json
│   └── vite.config.ts
└── rust_move_server  # rust 服务端，用于接受 post 请求，并返回 move 的执行结果
    └── test_server
        ├── Cargo.lock
        ├── Cargo.toml  # 需要配置依赖项
        └── src
            └── main.rs # 服务端代码</code></pre></div></div><h1 id=附录>附录</h1><h2 id=playground>playground</h2><h3 id=packagejson>package.json</h3><div><pre><code class=language-json data-lang=json>{
  &#34;name&#34;: &#34;playground&#34;,
  &#34;private&#34;: true,
  &#34;version&#34;: &#34;0.0.0&#34;,
  &#34;type&#34;: &#34;module&#34;,
  &#34;scripts&#34;: {
    &#34;dev&#34;: &#34;vite&#34;,
    &#34;build&#34;: &#34;tsc &amp;&amp; vite build&#34;,
    &#34;lint&#34;: &#34;eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0&#34;,
    &#34;preview&#34;: &#34;vite preview&#34;
  },
  &#34;dependencies&#34;: {
    &#34;axios&#34;: &#34;^1.6.8&#34;,
    &#34;codemirror&#34;: &#34;^5.65.16&#34;,
    &#34;react&#34;: &#34;^18.2.0&#34;,
    &#34;react-codemirror2&#34;: &#34;^7.3.0&#34;,
    &#34;react-dom&#34;: &#34;^18.2.0&#34;
  },
  &#34;devDependencies&#34;: {
    &#34;@types/codemirror&#34;: &#34;^5.60.15&#34;,
    &#34;@types/react&#34;: &#34;^18.2.66&#34;,
    &#34;@types/react-dom&#34;: &#34;^18.2.22&#34;,
    &#34;@typescript-eslint/eslint-plugin&#34;: &#34;^7.2.0&#34;,
    &#34;@typescript-eslint/parser&#34;: &#34;^7.2.0&#34;,
    &#34;@vitejs/plugin-react&#34;: &#34;^4.2.1&#34;,
    &#34;eslint&#34;: &#34;^8.57.0&#34;,
    &#34;eslint-plugin-react-hooks&#34;: &#34;^4.6.0&#34;,
    &#34;eslint-plugin-react-refresh&#34;: &#34;^0.4.6&#34;,
    &#34;typescript&#34;: &#34;^5.2.2&#34;,
    &#34;vite&#34;: &#34;^5.2.0&#34;
  }
}</code></pre></div><h2 id=rust>rust</h2><h3 id=cargotoml>Cargo.toml</h3><div><pre><code class=language-toml data-lang=toml>[package]
name = &#34;rust_move_server&#34;
version = &#34;0.1.0&#34;
edition = &#34;2021&#34;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
actix-web = &#34;4.0&#34;
actix-cors = { version = &#34;0.6.0-beta.10&#34; }</code></pre></div><h2 id=move>move</h2><h3 id=movetoml>Move.toml</h3><div><pre><code class=language-move data-lang=move>[package]
name = &#34;move_code&#34;
version = &#34;1.0.0&#34;
authors = []

[addresses]

[dev-addresses]

[dependencies.AptosFramework]
git = &#34;https://github.com/aptos-labs/aptos-core.git&#34;
rev = &#34;mainnet&#34;
subdir = &#34;aptos-move/framework/aptos-framework&#34;

[dev-dependencies]</code></pre></div></section><div class="flex flex-row items-center justify-center space-x-4"><div class=reward-container><button class=reward-button aria-expanded=false aria-controls=reward-pop>
支持作者</button><div id=reward-pop class="reward-popup hidden"><p class=reward-text>感谢支持！🍻</p><div class=qr-container><div class=reward-qr><img src=/images/payment/wechat.jpg alt=微信支付二维码 loading=lazy><p>微信</p></div><div class=reward-qr><img src=/images/payment/alipay.jpg alt=支付宝二维码 loading=lazy><p>支付宝</p></div></div></div></div><style>.reward-container{text-align:center;margin:2rem 0}.reward-button{padding:.5rem 1.25rem;background-color:#f44336;color:#fff;border:none;border-radius:1rem;cursor:pointer;transition:all .2s ease;font-size:1rem}.reward-button:hover{background-color:red;font-size:1rem;transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.2)}.reward-button:active{background-color:red;font-weight:700;font-size:.9rem;transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.2)}.reward-popup{margin-top:1.5rem;opacity:0;transform:translateY(-10px);transition:all .3s ease}.reward-popup.visible{opacity:1;transform:translateY(0)}.reward-text{margin-bottom:1rem;color:#333;font-size:1.1rem}.reward-text:is(.dark *){margin-bottom:1rem;color:#fff;font-size:1.1rem}.qr-container{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap}.reward-qr{text-align:center}.reward-qr img{width:200px;padding:1rem;background-color:#fff;border-radius:.5rem;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease}.reward-qr img:hover{transform:scale(1.02)}.reward-qr p{margin:.5rem 0 0;color:#666;font-size:.95rem}.reward-qr p:is(.dark *){margin:.5rem 0 0;color:#fff;font-size:.95rem}.hidden{display:none}</style><script>const button=document.querySelector(".reward-button"),popup=document.getElementById("reward-pop");button.addEventListener("click",()=>{const e=button.getAttribute("aria-expanded")==="true";button.setAttribute("aria-expanded",!e),popup.classList.toggle("hidden"),setTimeout(()=>{popup.classList.toggle("visible")},10)})</script><style>.share-trigger-btn{padding:.5rem 1.25rem;background-color:#0053e0;color:#fff;border:none;border-radius:1rem;cursor:pointer;transition:all .2s ease;font-size:1rem;display:inline-flex;align-items:center}.share-trigger-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(225,123,123,.5)}.share-trigger-btn:active{transform:translateY(0)}.share-panel-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(8px);z-index:9999;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .3s ease;padding:1rem}.share-panel-overlay.active{opacity:1;visibility:visible}.share-panel-container{background:#fff;border-radius:24px;max-width:480px;width:100%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 25px 50px -12px rgba(0,0,0,.25);transform:scale(.9)translateY(20px);transition:all .3s cubic-bezier(.4,0,.2,1)}.share-panel-overlay.active .share-panel-container{transform:scale(1)translateY(0)}.share-panel-container::-webkit-scrollbar{width:6px}.share-panel-container::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.share-panel-container::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.share-panel-container::-webkit-scrollbar-thumb:hover{background:#94a3b8}.share-close-btn{position:absolute;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.9);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px rgba(0,0,0,.1)}.share-close-btn:hover{background:#fee2e2;color:#dc2626;transform:rotate(90deg)}.share-header{text-align:center;padding:3rem 2rem 2rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border-radius:24px 24px 0 0}.share-header-icon{width:64px;height:64px;margin:0 auto 1rem;background:rgba(255,255,255,.2);border-radius:20px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px)}.share-title{font-size:1.75rem;font-weight:700;margin:0 0 .5rem}.share-subtitle{font-size:.95rem;opacity:.9;margin:0}.share-content{padding:2rem}.share-section{margin-bottom:2rem}.share-section:last-child{margin-bottom:0}.section-label{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#64748b;margin-bottom:1rem;text-transform:uppercase;letter-spacing:.05em}.section-label svg{margin-right:.5rem;color:#667eea}.share-buttons-grid{display:grid;grid-template-columns:1fr;gap:.75rem}.share-btn{display:flex;align-items:center;padding:1rem;border:2px solid #f1f5f9;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s;text-align:left}.share-btn:hover{border-color:initial;transform:translateX(4px);box-shadow:0 4px 12px rgba(0,0,0,.1)}.share-btn-icon{width:32px;height:32px;flex-shrink:0;margin-right:1rem}.share-btn-text{flex:1}.share-btn-name{display:block;font-weight:600;font-size:.95rem;margin-bottom:.125rem}.share-btn-desc{display:block;font-size:.8rem;color:#64748b}.share-btn-twitter{color:#1da1f2}.share-btn-linkedin{color:#0a66c2}.share-btn-weibo{color:#e6162d}.share-btn-wechat{color:#07c160}.share-btn-qq{color:#12b7f5}.share-btn-copy{color:#64748b}.share-card{display:flex;flex-direction:column}.card-decoration{height:6px;background:#fff}.card-image-wrapper{position:relative;height:180px;overflow:hidden;display:flex}.card-image{position:absolute;width:100%;height:auto;object-fit:cover;display:block;z-index:100;vertical-align:top;flex-shrink:0}.card-image-overlay{position:absolute;bottom:0;left:0;right:0;height:50%;background:linear-gradient(to top,rgba(0,0,0,.3),transparent)}.card-body{padding:1.5rem;background:#fff}.card-title{font-size:1.25rem;font-weight:700;color:#1e293b;margin:0 0 .75rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.card-description{font-size:.875rem;color:#64748b;line-height:1.6;margin:0 0 1.25rem;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.card-author{display:flex;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.author-avatar-wrapper{position:relative;margin-right:.75rem}.author-avatar{width:48px;height:48px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 2px 8px rgba(0,0,0,.1)}.author-avatar-ring{position:absolute;border-radius:50%;border:2px solid #667eea;opacity:0}@keyframes ring-pulse{0%,100%{opacity:0;transform:scale(1)}50%{opacity:.5;transform:scale(1.1)}}.author-info{flex:1}.author-name{font-weight:600;color:#1e293b;margin:0 0 .25rem;font-size:.95rem}.author-stats{display:flex;gap:1rem;font-size:.75rem;color:#64748b;margin:0}.stat-item{display:flex;align-items:center;gap:.25rem}.card-tags{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.tag-item{padding:.375rem .75rem;background:linear-gradient(135deg,#667eea15,#764ba215);color:#667eea;border-radius:20px;font-size:.75rem;font-weight:500;border:1px solid #667eea30}.tag-more{padding:.375rem .75rem;background:#f1f5f9;color:#64748b;border-radius:20px;font-size:.75rem}.contribution-section{margin-bottom:1rem;padding:1rem;background:#f8fafc;border-radius:12px}.contribution-title{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#475569;margin:0 0 .75rem}.contribution-title svg{margin-right:.5rem;color:#667eea}.contribution-grid{display:grid;grid-template-columns:repeat(auto-fill,10px);gap:3px;margin-bottom:.5rem}.contribution-cell{width:10px;height:10px;border-radius:2px;transition:all .2s;cursor:pointer}.contribution-cell:hover{transform:scale(1.5);z-index:10;box-shadow:0 0 0 2px rgba(102,126,234,.3)}.contribution-cell.level-0{background:#ebedf0}.contribution-cell.level-1{background:#c6e48b}.contribution-cell.level-2{background:#7bc96f}.contribution-cell.level-3{background:#239a3b}.contribution-cell.level-4{background:#196127}.contribution-legend{display:flex;align-items:center;justify-content:flex-end;gap:.5rem;font-size:.7rem;color:#64748b}.legend-cells{display:flex;gap:3px}.card-footer{display:flex;align-items:center;justify-content:space-between;padding-top:1rem;border-top:1px solid #f1f5f9}.footer-logo{display:flex;align-items:center;gap:.5rem}.footer-logo img{height:28px;width:auto}.footer-logo span{font-size:.875rem;color:#64748b;font-weight:500}#qrcodeSmall canvas{display:block}.card-actions{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-top:1rem}.action-btn{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1rem;border-radius:12px;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s;border:none}.action-btn-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;box-shadow:0 4px 12px rgba(102,126,234,.3)}.action-btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(102,126,234,.4)}.action-btn-secondary{background:#fff;color:#667eea;border:2px solid #667eea}.action-btn-secondary:hover{background:#667eea;color:#fff}.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.stat-card{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);padding:1.5rem;border-radius:12px;text-align:center;border:1px solid #e2e8f0}.stat-value{font-size:2rem;font-weight:700;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:.5rem}.stat-label{font-size:.75rem;color:#64748b;font-weight:500}.share-toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%)translateY(100px);background:#1e293b;color:#fff;padding:1rem 1.5rem;border-radius:12px;font-size:.875rem;font-weight:500;box-shadow:0 10px 25px rgba(0,0,0,.3);z-index:10000;opacity:0;transition:all .3s cubic-bezier(.4,0,.2,1)}.share-toast.show{opacity:1;transform:translateX(-50%)translateY(0)}@media(max-width:640px){.share-panel-container{max-width:100%;border-radius:24px 24px 0 0;max-height:95vh}.share-header{padding:2rem 1.5rem 1.5rem}.share-title{font-size:1.5rem}.share-content{padding:1.5rem}.card-actions{grid-template-columns:1fr}.contribution-grid{grid-template-columns:repeat(auto-fill,8px);gap:2px}.contribution-cell{width:8px;height:8px}}@media(prefers-color-scheme:dark){.share-panel-container{background:#1e293b}.card-body{background:#0f172a}.card-title{color:#f1f5f9}.card-description{color:#cbd5e1}.author-name{color:#f1f5f9}.share-btn{background:#334155;border-color:#475569}.stat-card{background:linear-gradient(135deg,#1e293b 0%,#334155 100%);border-color:#475569}}</style><button class=share-trigger-btn aria-label=分享文章>
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684 6.632 3.316m-6.632-6 6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg>
<span class=ml-2>分享</span></button><div class=share-panel-overlay id=sharePanel><div class=share-panel-container><button class=share-close-btn aria-label=关闭>
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button><div class=share-content><section class=share-section><h3 class=section-label><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
快速分享</h3><div class="grid grid-cols-3 gap-3 md:gap-4"><button class=share-btn-icon-only onclick='shareTo("twitter")' title=Twitter>
<img src=/icon/app/x.svg alt=Twitter class=share-btn-icon>
</button>
<button class=share-btn-icon-only onclick='shareTo("linkedin")' title=LinkedIn>
<img src=/icon/app/linkedin.svg alt=LinkedIn class=share-btn-icon>
</button>
<button class=share-btn-icon-only onclick='shareTo("weibo")' title=微博>
<img src=/icon/app/weibo.svg alt=微博 class=share-btn-icon>
</button>
<button class=share-btn-icon-only onclick='shareTo("wechat")' title=微信>
<img src=/icon/app/weixin.svg alt=微信 class=share-btn-icon>
</button>
<button class=share-btn-icon-only onclick='shareTo("qq")' title=QQ>
<img src=/icon/app/qq.svg alt=QQ class=share-btn-icon>
</button>
<button class=share-btn-icon-only onclick=copyLink() title=复制链接>
<img src=/icon/app/url.svg alt=URL class=share-btn-icon></button></div></section><section class=share-sectio><h3 class=section-label><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828.0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/></svg>
分享卡片</h3><div class="share-card border-2 rounded-lg" id=shareCard><div class=card-body><h4 class=card-title>创建一个远程编译环境</h4><p class=card-description>我使用的是 Mac，所以以下都是 Mac 的说明
一、前端（ts、react） 前端配置：TypeScript、React 依赖项：axios、codemirror、react-codemirror2
1. 初始化模板 任意选一个就行 …</p><div class=card-author><div class=author-avatar-wrapper><img src=https://simons.qzz.io/about/avatar.jpg alt=simons class=author-avatar loading=lazy><div class=author-avatar-ring></div></div><div class=author-info><p class=author-name>simons</p><p class=author-stats><span class=stat-item><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/></svg>
54 篇
</span><span class=stat-item><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12A1 1 0 109 6v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/></svg>
8 分钟</span></p></div></div><div class=card-tags><span class=tag-item>move</span></div><div class=contribution-section><h5 class=contribution-title><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
创作活跃度</h5><div class=contribution-grid><div class="contribution-cell level-0" data-date=2025-11-07 data-count=0 title="2025-11-07: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-08 data-count=0 title="2025-11-08: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-09 data-count=0 title="2025-11-09: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-10 data-count=0 title="2025-11-10: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-11 data-count=0 title="2025-11-11: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-12 data-count=0 title="2025-11-12: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-13 data-count=0 title="2025-11-13: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-14 data-count=0 title="2025-11-14: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-15 data-count=0 title="2025-11-15: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-16 data-count=0 title="2025-11-16: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-17 data-count=0 title="2025-11-17: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-18 data-count=0 title="2025-11-18: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-19 data-count=0 title="2025-11-19: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-20 data-count=0 title="2025-11-20: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-21 data-count=0 title="2025-11-21: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-22 data-count=0 title="2025-11-22: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-23 data-count=0 title="2025-11-23: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-24 data-count=0 title="2025-11-24: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-25 data-count=0 title="2025-11-25: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-26 data-count=0 title="2025-11-26: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-27 data-count=0 title="2025-11-27: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-28 data-count=0 title="2025-11-28: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-29 data-count=0 title="2025-11-29: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-11-30 data-count=0 title="2025-11-30: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-01 data-count=0 title="2025-12-01: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-02 data-count=0 title="2025-12-02: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-03 data-count=0 title="2025-12-03: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-04 data-count=0 title="2025-12-04: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-05 data-count=0 title="2025-12-05: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-06 data-count=0 title="2025-12-06: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-07 data-count=0 title="2025-12-07: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-08 data-count=0 title="2025-12-08: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-09 data-count=0 title="2025-12-09: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-10 data-count=0 title="2025-12-10: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-11 data-count=0 title="2025-12-11: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-12 data-count=0 title="2025-12-12: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-13 data-count=0 title="2025-12-13: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-14 data-count=0 title="2025-12-14: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-15 data-count=0 title="2025-12-15: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-16 data-count=0 title="2025-12-16: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-17 data-count=0 title="2025-12-17: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-18 data-count=0 title="2025-12-18: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-19 data-count=0 title="2025-12-19: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-20 data-count=0 title="2025-12-20: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-21 data-count=0 title="2025-12-21: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-22 data-count=0 title="2025-12-22: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-23 data-count=0 title="2025-12-23: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-24 data-count=0 title="2025-12-24: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-25 data-count=0 title="2025-12-25: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-26 data-count=0 title="2025-12-26: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-27 data-count=0 title="2025-12-27: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-28 data-count=0 title="2025-12-28: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-29 data-count=0 title="2025-12-29: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-30 data-count=0 title="2025-12-30: 0 篇"></div><div class="contribution-cell level-0" data-date=2025-12-31 data-count=0 title="2025-12-31: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-01 data-count=0 title="2026-01-01: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-02 data-count=0 title="2026-01-02: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-03 data-count=0 title="2026-01-03: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-04 data-count=0 title="2026-01-04: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-05 data-count=0 title="2026-01-05: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-06 data-count=0 title="2026-01-06: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-07 data-count=0 title="2026-01-07: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-08 data-count=0 title="2026-01-08: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-09 data-count=0 title="2026-01-09: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-10 data-count=0 title="2026-01-10: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-11 data-count=0 title="2026-01-11: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-12 data-count=0 title="2026-01-12: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-13 data-count=0 title="2026-01-13: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-14 data-count=0 title="2026-01-14: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-15 data-count=0 title="2026-01-15: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-16 data-count=0 title="2026-01-16: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-17 data-count=0 title="2026-01-17: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-18 data-count=0 title="2026-01-18: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-19 data-count=0 title="2026-01-19: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-20 data-count=0 title="2026-01-20: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-21 data-count=0 title="2026-01-21: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-22 data-count=0 title="2026-01-22: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-23 data-count=0 title="2026-01-23: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-24 data-count=0 title="2026-01-24: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-25 data-count=0 title="2026-01-25: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-26 data-count=0 title="2026-01-26: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-27 data-count=0 title="2026-01-27: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-28 data-count=0 title="2026-01-28: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-29 data-count=0 title="2026-01-29: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-30 data-count=0 title="2026-01-30: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-01-31 data-count=0 title="2026-01-31: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-02-01 data-count=0 title="2026-02-01: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-02-02 data-count=0 title="2026-02-02: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-02-03 data-count=0 title="2026-02-03: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-02-04 data-count=0 title="2026-02-04: 0 篇"></div><div class="contribution-cell level-0" data-date=2026-02-05 data-count=0 title="2026-02-05: 0 篇"></div></div><div class=contribution-legend><span>少</span><div class=legend-cells><div class="contribution-cell level-0"></div><div class="contribution-cell level-1"></div><div class="contribution-cell level-2"></div><div class="contribution-cell level-3"></div><div class="contribution-cell level-4"></div></div><span>多</span></div></div><div class=card-footer><div class=footer-logo><img src=https://simons.qzz.io/site/logo/logo.jpg alt="cyrus reggie" class="max-h-8 object-contain" loading=lazy>
<span>cyrus reggie</span></div><div class=p-1><div class=footer-qr id=qrcodeSmall></div></div></div></div></section><section><div class=card-actions><button onclick=generateShareImage() class="action-btn action-btn-primary">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4-4 4m0 0-4-4m4 4V4"/></svg>
下载分享图片
</button>
<button onclick=downloadQRCode() class="action-btn action-btn-secondary">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5A1 1 0 007 4H5A1 1 0 004 5v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"/></svg>
保存二维码</button></div></section></div></div></div><script src=https://cdn.jsdelivr.net/npm/qrcode@1.2.2/build/qrcode.min.js></script><script src=https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js></script><script>const shareData={title:"创建一个远程编译环境",description:` 我使用的是 Mac，所以以下都是 Mac 的说明
一、前端（ts、react） 前端配置：TypeScript、React 依赖项：axios、codemirror、react-codemirror2
1. 初始化模板 任意选一个就行 …`,url:"https://simons.qzz.io/es/post/2024/04/a_code_env/",author:"simons",siteTitle:"cyrus reggie"},shareTrigger=document.querySelector(".share-trigger-btn"),sharePanel=document.getElementById("sharePanel"),closeBtn=document.querySelector(".share-close-btn");shareTrigger?.addEventListener("click",()=>{sharePanel.classList.add("active"),document.body.style.overflow="hidden"}),closeBtn?.addEventListener("click",closeSharePanel),sharePanel?.addEventListener("click",e=>{e.target===sharePanel&&closeSharePanel()});function closeSharePanel(){sharePanel.classList.remove("active"),document.body.style.overflow=""}document.addEventListener("keydown",e=>{e.key==="Escape"&&sharePanel.classList.contains("active")&&closeSharePanel()});function generateQRCode(){const e=document.getElementById("qrcodeSmall");if(!e)return;e.innerHTML="";const t=document.createElement("canvas");e.appendChild(t),QRCode.toCanvas(t,shareData.url,{width:80,height:80,margin:0,color:{dark:"#1e40af",light:"#ffffff"}},function(e){e&&(console.error("QRCode生成失败:",e),generateQRCodeFallback())})}function generateQRCodeFallback(){const e=document.getElementById("qrcodeSmall");if(!e)return;e.innerHTML="";try{new QRCode(e,{text:shareData.url,width:80,height:80,colorDark:"#1e40af",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}catch(e){console.error("备用二维码生成也失败:",e)}}document.addEventListener("DOMContentLoaded",function(){generateQRCode()});function downloadQRCode(){const e=document.createElement("canvas");QRCode.toCanvas(e,shareData.url,{width:512,height:512,margin:2,color:{dark:"#1e40af",light:"#ffffff"}},t=>{if(!t){const t=document.createElement("a");t.download=`qrcode-${shareData.title.replace(/\s+/g,"-")}.png`,t.href=e.toDataURL("image/png"),t.click(),showToast("✓ 二维码已下载")}})}function shareTo(e){const n=encodeURIComponent(shareData.url),s=encodeURIComponent(shareData.title),o=encodeURIComponent(shareData.description);let t="";switch(e){case"wechat":showToast("📱 请使用微信扫描二维码分享");return;case"qq":t=`https://connect.qq.com/widget/shareqq/index.html?url=${n}&title=${s}&summary=${o}`;break;case"weibo":t=`http://service.weibo.com/share/share.php?url=${n}&title=${s}`;break;case"twitter":t=`https://twitter.com/intent/tweet?url=${n}&text=${s}`;break;case"linkedin":t=`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${s}&summary=${o}`;break}t&&(window.open(t,"_blank","width=600,height=400"),updateShareCount())}function copyLink(){navigator.clipboard.writeText(shareData.url).then(()=>showToast("✓ 链接已复制到剪贴板")).catch(()=>showToast("✗ 复制失败，请手动复制")),updateShareCount()}function generateShareImage(){const e=document.getElementById("shareCard");if(!e)return;showToast("🎨 正在生成分享图片..."),html2canvas(e,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0,logging:!1}).then(e=>{const t=document.createElement("a");t.download=`share-${shareData.title.replace(/\s+/g,"-")}.png`,t.href=e.toDataURL("image/png"),t.click(),showToast("✓ 分享图片已生成"),updateShareCount()}).catch(()=>{showToast("✗ 生成失败，请重试")})}function updateShareCount(){const n=(new Date).toDateString();let t=JSON.parse(localStorage.getItem("shareStats")||"{}"),e=t[window.location.pathname]||{total:0,lastDate:"",today:0};e.total+=1,e.today=e.lastDate===n?e.today+1:1,e.lastDate=n,t[window.location.pathname]=e,localStorage.setItem("shareStats",JSON.stringify(t)),document.getElementById("share-count").textContent=e.total,document.getElementById("today-share").textContent=e.today}function initShareStats(){const t=JSON.parse(localStorage.getItem("shareStats")||"{}"),e=t[window.location.pathname]||{total:0,today:0};document.getElementById("share-count").textContent=e.total,document.getElementById("today-share").textContent=e.today}function showToast(e){const n=document.querySelector(".share-toast");n&&n.remove();const t=document.createElement("div");t.className="share-toast",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),10),setTimeout(()=>{t.classList.remove("show"),setTimeout(()=>t.remove(),300)},3e3)}document.addEventListener("DOMContentLoaded",()=>{generateQRCode(),initShareStats()})</script></div><nav class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"><a class="ltr:pr-3 rtl:pl-3" href=https://simons.qzz.io/es/post/2024/04/simhash/><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>什么是 SimHash</span></a>
<a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href=https://simons.qzz.io/es/post/2024/04/compent/><span>报税记账</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a></nav><div class="mt-12 rounded-xl" style=text-align:center><button class=feedback-trigger onclick=toggleFeedback()>建议 / 反馈</button><div class="feedback-form hidden"><p>感谢你的提议，我将会尽快使用回复您！（此反馈将使用您的邮箱发送）</p><form id=feedback-form onsubmit=sendFeedback(event)><input type=text name=name placeholder=怎么称呼？ required>
<textarea name=message placeholder=请输入您的建议或意见... required></textarea>
<button type=submit>发送</button></form></div><style>.feedback-trigger{background:#007bff;color:#fff;border:none;padding:.25rem .5rem;border-radius:12px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.2);margin:1rem}.feedback-form{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:10px}.feedback-form.hidden{display:none}.feedback-form input,.feedback-form textarea{width:100%;margin-bottom:10px;padding:8px;border:1px solid #ddd;border-radius:4px}.feedback-form textarea{height:100px;resize:vertical}.feedback-form button{width:100%;background:#007bff;color:#fff;border:none;padding:8px;border-radius:4px;cursor:pointer}</style><script>function toggleFeedback(){document.querySelector(".feedback-form").classList.toggle("hidden")}function sendFeedback(e){e.preventDefault();const t=e.target,n=`mailto:reggiesimons2cy@gmail.com?subject=https://simons.qzz.io/ Feedback from ${t.name.value}&body=${encodeURIComponent(t.message.value)}%0D%0A%0D%0AFrom: ${t.name.value}%0D%0AEmail: ${t.email.value}`;window.location.href=n}</script></div><div class="mt-24 w-100rem" id=disqus_thread></div><script>const disqusShortname="caoyang2002.vercel.app",script=document.createElement("script");script.src="https://"+disqusShortname+".disqus.com/embed.js",script.setAttribute("data-timestamp",+new Date),document.head.appendChild(script)</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js></script><div class="giscus mt-24"></div><script src=https://giscus.app/client.js data-repo=caoyang2002/caoyang2002 data-repo-id=R_kgDONgnnzg data-category=Announcements data-category-id=DIC_kwDONgnnzs4ClayH data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><div class="ml-2 mr-4"><button class=mobile-toc-toggle>
<svg t="1737363365612" class="icon" viewBox="0 0 1024 1024" p-id="7154" width="32" height="32"><path d="M811.6 264.1H378.2c-19.8.0-36-16.2-36-36s16.2-36 36-36h433.5c19.8.0 36 16.2 36 36-.1 19.8-16.3 36-36.1 36zm0 258H378.2c-19.8.0-36-16.2-36-36s16.2-36 36-36h433.5c19.8.0 36 16.2 36 36-.1 19.8-16.3 36-36.1 36zm0 258H378.2c-19.8.0-36-16.2-36-36s16.2-36 36-36h433.5c19.8.0 36 16.2 36 36-.1 19.8-16.3 36-36.1 36z" fill="#223D60" p-id="7155"/><path d="M210.2 229m-37.9.0a37.9 37.9.0 1075.8.0 37.9 37.9.0 10-75.8.0z" fill="#223D60" p-id="7156"/><path d="M210.2 487m-37.9.0a37.9 37.9.0 1075.8.0 37.9 37.9.0 10-75.8.0z" fill="#223D60" p-id="7157"/><path d="M210.2 745m-37.9.0a37.9 37.9.0 1075.8.0 37.9 37.9.0 10-75.8.0z" fill="#223D60" p-id="7158"/></svg></button><aside class="toc-aside mr-4"><div class=toc-container><div class=toc-header><h3 class=toc-title>目录</h3><button class=toc-close>
<svg viewBox="0 0 24 24" width="24" height="24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><nav id=TableOfContents class=toc><nav id=TableOfContents><ul><li><a href=#一前端tsreact>一、前端（ts、react）</a><ul><li><a href=#1-初始化模板>1. 初始化模板</a><ul><li><a href=#11-交互式>1.1 交互式</a></li><li><a href=#12-一键创建>1.2 一键创建</a></li></ul></li><li><a href=#2-安装并运行模板>2. 安装并运行模板</a></li><li><a href=#3-删除不需要的文件>3. 删除不需要的文件</a></li><li><a href=#4-创建-playgroundtsx-组件>4. 创建 <code>playground.tsx</code> 组件</a></li><li><a href=#5-修改maintsx>5. 修改<code>main.tsx</code></a></li><li><a href=#6-修改apptsx>6. 修改<code>App.tsx</code></a></li><li><a href=#7-创建语法高亮-movejs>7. 创建语法高亮 <code>move.js</code></a></li><li><a href=#8-测试运行>8. 测试运行</a></li></ul></li><li><a href=#二服务端rust>二、服务端（rust）</a><ul><li><a href=#1-安装-rust安装-rust-时会默认安装-cargo>1. 安装 Rust（安装 Rust 时会默认安装 Cargo）</a></li><li><a href=#2-rust-环境>2. Rust 环境</a></li><li><a href=#3-验证安装>3. 验证安装</a></li><li><a href=#4-创建-rust-项目>4. 创建 Rust 项目</a></li><li><a href=#5-进入项目目录>5. 进入项目目录</a></li><li><a href=#6-构建项目>6. 构建项目</a></li><li><a href=#7-运行项目>7. 运行项目</a></li><li><a href=#8-写入-rust-服务端代码>8. 写入 Rust 服务端代码</a><ul><li><a href=#81-配置依赖项-cargotoml>8.1 配置依赖项 <code>Cargo.toml</code></a></li><li><a href=#82-写入rust-代码>8.2 写入Rust 代码</a></li></ul></li><li><a href=#9-发送-post-请求进行测试>9. 发送 post 请求进行测试</a></li><li><a href=#rust-部分完成>Rust 部分完成</a></li></ul></li><li><a href=#三move-临时代码>三、move 临时代码</a><ul><li><a href=#1-初始化-move-项目>1. 初始化 Move 项目</a></li><li><a href=#2-初始化-aptos-账户>2. 初始化 aptos 账户</a></li><li><a href=#3-创建临时-move-代码文件-tempmove>3. 创建临时 Move 代码文件 <code>temp.move</code></a><ul><li><a href=#31-输入一段-move-代码>3.1 输入一段 Move 代码</a></li><li><a href=#32-测试运行>3.2 测试运行</a></li></ul></li><li><a href=#move-部分完成>Move 部分完成</a></li></ul></li><li><a href=#四测试>四、测试</a></li><li><a href=#五目录结构>五、目录结构</a></li><li><a href=#附录>附录</a><ul><li><a href=#playground>playground</a><ul><li><a href=#packagejson>package.json</a></li></ul></li><li><a href=#rust>rust</a><ul><li><a href=#cargotoml>Cargo.toml</a></li></ul></li><li><a href=#move>move</a><ul><li><a href=#movetoml>Move.toml</a></li></ul></li></ul></li></ul></nav></nav></div></aside><style>.toc-aside{position:fixed;top:6rem;bottom:4rem;right:0;width:16rem;z-index:100;transition:transform .3s ease}.toc-container{background:#fff;height:100%;border-radius:.5rem .5rem .5rem .5rem;box-shadow:-2px 0 8px rgba(0,0,0,.1);display:flex;flex-direction:column}.toc-header{position:sticky;border-radius:.5rem .5rem 0 0;top:0;background:#fff;padding:1rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;z-index:10}.toc-title{margin:0;font-size:1rem;font-weight:600}.mobile-toc-toggle{display:none;position:fixed;top:6rem;right:1rem;z-index:99;width:3rem;height:3rem;border-radius:50%;background:#fff;border:1px solid #e5e7eb;box-shadow:0 2px 8px rgba(0,0,0,.1);color:#4b5563;cursor:pointer;transition:all .2s}.mobile-toc-toggle:hover{background:#f3f4f6}.mobile-toc-toggle .menu-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.toc-close{padding:.5rem;background:0 0;border:none;color:--bg;cursor:pointer;transition:all .2s}.toc-close:hover{color:#111827}.toc{flex:1;overflow-y:auto;padding:1rem;scrollbar-gutter:stable}.toc ul{list-style:none;padding-left:1rem;margin:0}.toc li{margin:.5rem 0}.toc a{display:block;padding:.25rem .5rem;color:#4b5563;text-decoration:none;border-radius:.25rem;transition:all .2s}.toc a:hover{background-color:#f3f4f6;color:#111827}.toc a:active{background-color:#f3f4f6;color:#111827;font-weight:500}.toc::-webkit-scrollbar{width:4px}.toc::-webkit-scrollbar-track{background:0 0}.toc::-webkit-scrollbar-thumb{background-color:#d1d1d1;border-radius:4px}@media(max-width:912px){.mobile-toc-toggle{display:flex;justify-content:center;align-items:center}.toc-aside{transform:translateX(100%);width:80vw;max-width:20rem}.toc-aside.show{transform:translateX(0)}}h1,h2,h3,h4,h5,h6{scroll-margin-top:100px}</style><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".toc-aside"),t=document.querySelector(".mobile-toc-toggle"),n=document.querySelector(".toc-close");t?.addEventListener("click",()=>{e?.classList.add("show")}),n?.addEventListener("click",()=>{e?.classList.remove("show")}),document.addEventListener("click",n=>{window.innerWidth<=912&&e?.classList.contains("show")&&!e.contains(n.target)&&!t?.contains(n.target)&&e.classList.remove("show")});const s=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target.getAttribute("id"),n=document.querySelector(`.toc a[href="#${t}"]`);e.intersectionRatio>0&&(document.querySelectorAll(".toc a.active").forEach(e=>{e.classList.remove("active")}),n?.classList.add("active"))})},{rootMargin:"-20% 0px -80% 0px"});document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]").forEach(e=>{s.observe(e)})})</script></div></div><footer class="flex items-center text-xs uppercase h-8"><div class="mr-auto opacity-60">&copy; 2026
<a class=link href=https://simons.qzz.io/>cyrus reggie</a></div><div><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><p class="link mx-6 opacity-60">本站累计访问次数
<span id=busuanzi_value_page_pv><i class="fa fa-spinner fa-spin"></i></span></p></div><a class="link mx-6 opacity-60" href=https://gohugo.io/ rel=noopener target=_blank>powered by hugo️️</a>️
<a class="link mx-6 opacity-60" href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>hugo-paper</a>
<a class="link opacity-60" href=https://caoyang2002.github.io/hugo-focus/ rel=noopener target=_blank>hugo-focus</a></footer><style>footer{position:fixed;bottom:0;left:0;right:0;z-index:50;width:100%;padding:.5rem;padding-bottom:calc(.5rem + var(--safe-padding-bottom));padding-left:max(.5rem,var(--safe-padding-left));padding-right:max(.5rem,var(--safe-padding-right));display:flex;justify-content:center;align-items:center;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(12px);background:rgba(255,255,255,.85);border-top:1px solid rgba(255,255,255,.3);box-shadow:0 -4px 20px rgba(0,0,0,5%)}.dark footer{background:rgba(0,0,0,.85);border-top-color:rgba(255,255,255,.1)}.footer-content{width:100%;max-width:var(--w);margin:0 auto;padding:0 1rem;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:1rem}.footer-element{padding:.75rem 1.5rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;opacity:.8;border-radius:.5rem;background:rgba(255,255,255,.1);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);transition:all .2s ease}.footer-element:hover{opacity:1;background:rgba(255,255,255,.2)}.dark .footer-element{background:rgba(255,255,255,5%)}.dark .footer-element:hover{background:rgba(255,255,255,.1)}@media(max-width:768px){footer{padding-top:.5rem;padding-bottom:calc(.5rem + env(safe-area-inset-bottom))}.footer-content{padding:0 .5rem;gap:.5rem}.footer-element{padding:.5rem 1rem;font-size:.75rem}}@media(min-width:768px){.footer-element{font-size:.875rem}}@media(min-width:1024px){.footer-content{padding:0 2rem;gap:2rem}.footer-element{padding:.75rem 2rem}}</style></body></html>