+++
title = 'Hugo çš„ç‰¹æ®Šç›®å½•'
date = 2025-08-12T08:11:52+08:00
draft = false
author = "simons"
categories = ["åšå®¢"]
tags = ["hugo","é…ç½®"]
description = "hugo çš„ç‰¹æ®Šç›®å½•ä»‹ç»"
+++

Hugo çš„ç‰¹æ®Šç›®å½•éµå¾ªâ€œçº¦å®šä¼˜äºé…ç½®â€åŸåˆ™ï¼Œæ¯ä¸ªç›®å½•éƒ½æœ‰ç‰¹å®šç”¨é€”ã€‚ä»¥ä¸‹æ˜¯æ‰€æœ‰ç‰¹æ®Šç›®å½•çš„è¯¦ç»†è¯´æ˜ï¼š

# ğŸ“ æ ¸å¿ƒç›®å½•ç»“æ„

```
your-site/
â”œâ”€â”€ archetypes/          # å†…å®¹æ¨¡æ¿
â”œâ”€â”€ assets/             # èµ„æºæ–‡ä»¶ï¼ˆé¢„å¤„ç†å™¨å¤„ç†ï¼‰
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ content/            # ç½‘ç«™å†…å®¹ï¼ˆæ ¸å¿ƒï¼‰
â”œâ”€â”€ data/               # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ layouts/            # å¸ƒå±€æ¨¡æ¿
â”œâ”€â”€ static/             # é™æ€æ–‡ä»¶ï¼ˆç›´æ¥å¤åˆ¶ï¼‰
â”œâ”€â”€ themes/             # ä¸»é¢˜ç›®å½•
â”œâ”€â”€ i18n/               # å›½é™…åŒ–ç¿»è¯‘æ–‡ä»¶
â”œâ”€â”€ resources/          # ç¼“å­˜èµ„æºï¼ˆHugoç”Ÿæˆï¼‰
â”œâ”€â”€ public/             # æœ€ç»ˆè¾“å‡ºï¼ˆæ„å»ºåç”Ÿæˆï¼‰
â””â”€â”€ hugo.toml           # é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ä½ç½®ï¼‰
```

# ğŸ”§ è¯¦ç»†ç›®å½•è§£æ

## 1. **`archetypes/` - å†…å®¹æ¨¡æ¿**
**ä½œç”¨**ï¼šå®šä¹‰æ–°å†…å®¹é¡µé¢çš„åˆå§‹ Front Matter æ¨¡æ¿
```bash
hugo new posts/my-post.md  # ä½¿ç”¨ archetype åˆ›å»ºå†…å®¹
```
**æ–‡ä»¶ç¤ºä¾‹** `archetypes/posts.md`ï¼š
```yaml
---
title: "{{ replace .File.ContentBaseName "-" " " | title }}"
date: {{ .Date }}
draft: true
tags: []
categories: []
summary: ""
---
```

## 2. **`assets/` - èµ„æºå¤„ç†ç›®å½•**
**ä½œç”¨**ï¼šå­˜æ”¾éœ€è¦ Hugo Pipes å¤„ç†çš„æ–‡ä»¶ï¼ˆSass/SCSSã€JSã€å›¾åƒå¤„ç†ï¼‰
```
assets/
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ main.scss       # ä¼šè¢«ç¼–è¯‘ä¸º CSS
â”‚   â””â”€â”€ variables.scss
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app.js          # å¯è¢«å‹ç¼©ã€åˆå¹¶
â”‚   â””â”€â”€ vendor/
â””â”€â”€ images/
    â””â”€â”€ logo.svg        # å¯è¢«å¤„ç†
```
**æ¨¡æ¿ä¸­ä½¿ç”¨**ï¼š
```go-html-template
{{ $css := resources.Get "css/main.scss" | toCSS | minify | fingerprint }}
<link rel="stylesheet" href="{{ $css.Permalink }}">
```

## 3. **`config/` - é…ç½®ç›®å½•**ï¼ˆå¯é€‰ï¼‰
**ä½œç”¨**ï¼šæ›¿ä»£å•ä¸€é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒæ¨¡å—åŒ–é…ç½®
```
config/
â”œâ”€â”€ _default/           # é»˜è®¤é…ç½®
â”‚   â”œâ”€â”€ hugo.toml
â”‚   â”œâ”€â”€ menus.toml
â”‚   â””â”€â”€ params.toml
â”œâ”€â”€ production/         # ç”Ÿäº§ç¯å¢ƒé…ç½®
â””â”€â”€ development/       # å¼€å‘ç¯å¢ƒé…ç½®
```

## 4. **`content/` - å†…å®¹æ ¸å¿ƒ**
**ä½œç”¨**ï¼šæ‰€æœ‰ç½‘ç«™å†…å®¹çš„ Markdown æ–‡ä»¶
```
content/
â”œâ”€â”€ _index.md          # ä¸»é¡µ
â”œâ”€â”€ about/
â”‚   â””â”€â”€ index.md      # abouté¡µé¢
â”œâ”€â”€ posts/            # æ–‡ç« ç« èŠ‚
â”‚   â”œâ”€â”€ _index.md     # æ–‡ç« åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ first-post.md
â”‚   â””â”€â”€ second-post.md
â””â”€â”€ blog/             # å¦ä¸€ä¸ªç« èŠ‚
    â””â”€â”€ _index.md
```

## 5. **`data/` - æ•°æ®æ–‡ä»¶**
**ä½œç”¨**ï¼šå­˜å‚¨ YAMLã€JSONã€TOML æˆ– XML æ ¼å¼çš„æ•°æ®ï¼Œå¯åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
```
data/
â”œâ”€â”€ authors.yaml       # ä½œè€…ä¿¡æ¯
â”œâ”€â”€ settings.json      # ç½‘ç«™è®¾ç½®
â””â”€â”€ products/
    â””â”€â”€ list.toml     # äº§å“æ•°æ®
```
**`data/authors.yaml` ç¤ºä¾‹**ï¼š
```yaml
- id: john
  name: John Doe
  bio: Web Developer
  avatar: /images/john.jpg
```
**æ¨¡æ¿ä¸­ä½¿ç”¨**ï¼š
```go-html-template
{{ range site.Data.authors }}
  <div>{{ .name }} - {{ .bio }}</div>
{{ end }}
```

## 6. **`layouts/` - å¸ƒå±€æ¨¡æ¿**
**ä½œç”¨**ï¼šå®šä¹‰ç½‘ç«™çš„å¤–è§‚å’Œç»“æ„ï¼Œè¦†ç›–ä¸»é¢˜çš„å¸ƒå±€
```
layouts/
â”œâ”€â”€ _default/          # é»˜è®¤å¸ƒå±€
â”‚   â”œâ”€â”€ baseof.html   # åŸºç¡€æ¨¡æ¿
â”‚   â”œâ”€â”€ list.html     # åˆ—è¡¨é¡µ
â”‚   â””â”€â”€ single.html   # å•é¡µ
â”œâ”€â”€ partials/          # å¯é‡ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ header.html
â”‚   â”œâ”€â”€ footer.html
â”‚   â””â”€â”€ sidebar.html
â”œâ”€â”€ shortcodes/        # çŸ­ä»£ç 
â”œâ”€â”€ 404.html          # 404é¡µé¢
â”œâ”€â”€ index.html        # ä¸»é¡µå¸ƒå±€
â””â”€â”€ section/
    â””â”€â”€ posts.html    # postsç« èŠ‚ä¸“ç”¨å¸ƒå±€
```

## 7. **`static/` - é™æ€æ–‡ä»¶**
**ä½œç”¨**ï¼šç›´æ¥å¤åˆ¶åˆ° `public/` ç›®å½•ï¼Œä¸ç»è¿‡å¤„ç†
```
static/
â”œâ”€â”€ favicon.ico
â”œâ”€â”€ robots.txt
â”œâ”€â”€ downloads/
â”‚   â””â”€â”€ manual.pdf    # ç›´æ¥è®¿é—® /downloads/manual.pdf
â””â”€â”€ old-site/         # æ—§ç«™ç‚¹æ–‡ä»¶
```

## 8. **`themes/` - ä¸»é¢˜ç›®å½•**
**ä½œç”¨**ï¼šå­˜æ”¾ä¸»é¢˜æ–‡ä»¶ï¼Œå¯å¤šä¸ªä¸»é¢˜
```
themes/
â””â”€â”€ my-theme/         # ä¸»é¢˜åŒ…å«ç›¸åŒç›®å½•ç»“æ„
    â”œâ”€â”€ layouts/
    â”œâ”€â”€ assets/
    â”œâ”€â”€ static/
    â””â”€â”€ theme.toml
```

## 9. **`i18n/` - å›½é™…åŒ–æ–‡ä»¶**
**ä½œç”¨**ï¼šå¤šè¯­è¨€ç¿»è¯‘å­—å…¸
```
i18n/
â”œâ”€â”€ en.toml           # è‹±æ–‡ç¿»è¯‘
â”œâ”€â”€ zh.toml           # ä¸­æ–‡ç¿»è¯‘
â””â”€â”€ ja.yaml           # æ—¥æ–‡ç¿»è¯‘
```

## 10. **`resources/` - èµ„æºç¼“å­˜**ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
**ä½œç”¨**ï¼šHugo å¤„ç†èµ„æºæ—¶çš„ç¼“å­˜ç›®å½•ï¼Œ**ä¸åº”æ‰‹åŠ¨ä¿®æ”¹**
```
resources/_gen/       # ç”Ÿæˆçš„èµ„æºç¼“å­˜
â”œâ”€â”€ assets/
â”œâ”€â”€ images/
â””â”€â”€ js/
```

## 11. **`public/` - æœ€ç»ˆè¾“å‡º**ï¼ˆæ„å»ºåç”Ÿæˆï¼‰
**ä½œç”¨**ï¼šåŒ…å«å®Œæ•´çš„é™æ€ç½‘ç«™ï¼Œå¯éƒ¨ç½²åˆ°ä»»ä½•æœåŠ¡å™¨
```bash
hugo                  # ç”Ÿæˆ public/ ç›®å½•
hugo -d ./docs        # æŒ‡å®šè¾“å‡ºç›®å½•
```

# ğŸ¯ ä¼˜å…ˆçº§è§„åˆ™ï¼ˆé‡è¦ï¼ï¼‰

å½“ç›¸åŒæ–‡ä»¶å‡ºç°åœ¨å¤šä¸ªä½ç½®æ—¶ï¼ŒHugo æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ä½¿ç”¨ï¼š

```
é¡¹ç›®æ ¹ç›®å½• â†’ ä¸»é¢˜ç›®å½•
```
å…·ä½“è·¯å¾„ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š
1. `layouts/` (é¡¹ç›®) â†’ `layouts/` (ä¸»é¢˜)
2. `assets/` (é¡¹ç›®) â†’ `assets/` (ä¸»é¢˜)
3. `static/` (é¡¹ç›®) â†’ `static/` (ä¸»é¢˜)
4. `content/` (é¡¹ç›®) â†’ `content/` (ä¸»é¢˜)
5. `data/` (é¡¹ç›®) â†’ `data/` (ä¸»é¢˜)
6. `i18n/` (é¡¹ç›®) â†’ `i18n/` (ä¸»é¢˜)
7. `archetypes/` (é¡¹ç›®) â†’ `archetypes/` (ä¸»é¢˜)

# ğŸ“Š ç›®å½•åŠŸèƒ½å¯¹æ¯”è¡¨

| ç›®å½• | æ˜¯å¦å¿…éœ€ | æ˜¯å¦å¤„ç† | æ„å»ºæ—¶ | ç¤ºä¾‹ç”¨é€” |
|------|----------|----------|--------|----------|
| **content/** | âœ… æ˜¯ | âœ… Markdownæ¸²æŸ“ | ç”ŸæˆHTML | åšå®¢æ–‡ç« ã€é¡µé¢ |
| **layouts/** | âŒ å¦ | âœ… Goæ¨¡æ¿æ¸²æŸ“ | ç”ŸæˆHTML | é¡µé¢å¸ƒå±€ã€ç»„ä»¶ |
| **static/** | âŒ å¦ | âŒ ç›´æ¥å¤åˆ¶ | åŸæ ·å¤åˆ¶ | å›¾ç‰‡ã€PDFã€å­—ä½“ |
| **assets/** | âŒ å¦ | âœ… èµ„æºç®¡é“ | å¤„ç†ä¼˜åŒ– | SCSSç¼–è¯‘ã€JSå‹ç¼© |
| **data/** | âŒ å¦ | âœ… æ•°æ®åŠ è½½ | åŠ è½½åˆ°å†…å­˜ | é…ç½®æ–‡ä»¶ã€å…ƒæ•°æ® |
| **archetypes/** | âŒ å¦ | âœ… æ¨¡æ¿æ‰©å±• | åˆ›å»ºæ—¶ä½¿ç”¨ | æ–‡ç« æ¨¡æ¿ |
| **i18n/** | âŒ å¦ | âœ… ç¿»è¯‘åŠ è½½ | åŠ è½½åˆ°å†…å­˜ | å¤šè¯­è¨€å­—ç¬¦ä¸² |
| **config/** | âŒ å¦ | âœ… é…ç½®è§£æ | å¯åŠ¨æ—¶åŠ è½½ | ç½‘ç«™è®¾ç½® |

# ğŸ› ï¸ å®ç”¨å·¥ä½œæµç¤ºä¾‹

## 1. **åˆ›å»ºæ–°æ–‡ç« **
```bash
# ä½¿ç”¨ archetype æ¨¡æ¿
hugo new posts/2024/my-article.md

# ä¸ä½¿ç”¨æ¨¡æ¿
hugo new --kind post posts/2024/another-article.md
```

## 2. **å¤„ç†èµ„æºæ–‡ä»¶**
```go-html-template
{{/* å¤„ç† SCSS æ–‡ä»¶ */}}
{{ $styles := resources.Get "scss/main.scss" | toCSS | postCSS | minify }}

{{/* å¤„ç†å¹¶è°ƒæ•´å›¾ç‰‡ */}}
{{ $image := resources.Get "images/photo.jpg" }}
{{ $small := $image.Resize "300x" }}
{{ $medium := $image.Resize "600x" }}
<img src="{{ $small.RelPermalink }}" srcset="{{ $small.RelPermalink }} 300w, {{ $medium.RelPermalink }} 600w">
```

## 3. **ç»„ç»‡å¤§å‹é¡¹ç›®**
```
my-site/
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ en/           # è‹±æ–‡å†…å®¹
â”‚   â””â”€â”€ zh/           # ä¸­æ–‡å†…å®¹
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ _default/
â”‚   â””â”€â”€ partials/
â”‚       â”œâ”€â”€ header/
â”‚       â”œâ”€â”€ footer/
â”‚       â””â”€â”€ widgets/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ scss/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ pages/
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ modules/
â”‚       â””â”€â”€ vendors/
â””â”€â”€ data/
    â”œâ”€â”€ team/         # å›¢é˜Ÿæˆå‘˜
    â”œâ”€â”€ products/     # äº§å“ç›®å½•
    â””â”€â”€ settings/     # é…ç½®æ•°æ®
```

# ğŸ’¡ æœ€ä½³å®è·µ

1. **ä¿æŒ content/ æ•´æ´**ï¼šåªæ”¾ Markdown æ–‡ä»¶ï¼Œèµ„æºæ”¾åœ¨ assets/ æˆ– static/
2. **åˆ©ç”¨ assets/ å¤„ç†**ï¼šå›¾ç‰‡å‹ç¼©ã€CSS/JS ä¼˜åŒ–é€šè¿‡ assets/ å®Œæˆ
3. **æ¸è¿›å¼è¦†ç›–**ï¼šä»ä¸»é¢˜å¤åˆ¶éœ€è¦çš„å¸ƒå±€æ–‡ä»¶åˆ°é¡¹ç›® layouts/ è¿›è¡Œä¿®æ”¹
4. **æ•°æ®é©±åŠ¨å†…å®¹**ï¼šåŠ¨æ€å†…å®¹ä½¿ç”¨ data/ ç›®å½•ç®¡ç†
5. **ç‰ˆæœ¬æ§åˆ¶æ’é™¤**ï¼šå°† `resources/_gen/` å’Œ `public/` åŠ å…¥ .gitignore

# ğŸš€ éƒ¨ç½²å»ºè®®

```bash
# å®Œæ•´æ„å»ºå‘½ä»¤
hugo \
  --minify \          # å‹ç¼© HTMLã€CSSã€JS
  --cleanDestinationDir \  # æ¸…ç†è¾“å‡ºç›®å½•
  --environment production

# åªæ„å»ºç‰¹å®šè¯­è¨€
hugo --config config_zh.toml

# å¸¦è‰ç¨¿æ„å»ºï¼ˆç”¨äºé¢„è§ˆï¼‰
hugo --buildDrafts
```

ç†è§£è¿™äº›ç‰¹æ®Šç›®å½•çš„ä½œç”¨å’Œä¼˜å…ˆçº§ï¼Œèƒ½è®©ä½ æ›´é«˜æ•ˆåœ°ç»„ç»‡å’Œç®¡ç† Hugo é¡¹ç›®ã€‚æ¯ä¸ªç›®å½•éƒ½æœ‰å…¶æ˜ç¡®èŒè´£ï¼Œéµå¾ªè¿™ä¸ªç»“æ„èƒ½è®©é¡¹ç›®ä¿æŒæ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚
