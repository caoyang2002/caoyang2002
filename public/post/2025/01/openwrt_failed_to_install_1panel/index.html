<!doctype html>














































<html
    class="not-ready lg:text-base close"
    style="--bg: #faf8f1"
    lang="zh-CN"
    dir="ltr"
>
    
    
    <script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><style>
        body {
            background-image: url("/images/ui/background.jpg");
            background-repeat: no-repeat;
            background-position: center center;
            background-attachment: fixed;
            background-size: cover;
            min-height: 100vh;
        }

        html,
        body {
            min-height: 100vh;
        }
    </style>
    
    <script
        charset="UTF-8"
        id="LA_COLLECT"
        src="//sdk.51.la/js-sdk-pro.min.js"
    ></script>
    <script>
        LA.init({ id: "3L3XAvCJS5maI7j0", ck: "3L3XAvCJS5maI7j0" });
    </script>
    
    
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    
    <title>Openwrt_failed_to_install_1panel - caoyang 2002</title>

    
    <meta name="theme-color" />

    
    
    
    
    <meta name="description" content="解决在 openwrt 中自动安装 1panel 失败的问题：











    Multiple packages (libgcc1 and libgcc1) providing same name marked HOLD or
PREFER. Using latest.
Multiple packages (libgcc1 and libgcc1) providing same name marked HOLD or PREFER. Using latest.
Installing app-meta-istorepanel (1.0.6-20250116) to root...
Downloading https://istore.istoreos.com/repo/all/meta/app-meta-istorepanel_1.0.6-20250116_all.ipk
Collected errors:
 * pkg_hash_check_unresolved: cannot find dependency zoneinfo-asia for luci-app-istorepanel
 * pkg_hash_fetch_best_installation_candidate: Packages for luci-app-istorepanel found, but incompatible with the architectures configured
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for app-meta-istorepanel:
 *      zoneinfo-asia
 * opkg_install_cmd: Cannot install package app-meta-istorepanel.


存在的问题：

缺少依赖包 zoneinfo-asia
架构不兼容的问题
存在重复的 libgcc1 包


如果之前安装过 1panel 那么这个失败原因可能是因为之前安装的包没有被完全清理" />
    <meta name="author" content="simons" />
    

    
    
    <script src="/js/code-copy.js" defer></script>
       
    
    

    <link rel="preload stylesheet" as="style" href="http://localhost:1313/bundle.min.css" />

    
    
    
    
    
    <link rel="preload" as="image" href="http://localhost:1313/theme.png" />

    
    
    
    
    <link rel="preload" as="image" href="/about/avatar.jpg" />
    
    

    
    
    <link rel="preload" as="image" href="http://localhost:1313/twitter.svg" />
    
    <link rel="preload" as="image" href="http://localhost:1313/github.svg" />
    
    <link rel="preload" as="image" href="http://localhost:1313/instagram.svg" />
    
    <link rel="preload" as="image" href="http://localhost:1313/rss.svg" />
    
    

    
    
    
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css"
    />

    <script
        defer
        src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    
    <script
        defer
        src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"
        onload="hljs.initHighlightingOnLoad();"
    ></script>
     
    <script
        defer
        src="http://localhost:1313/highlight.min.js"
        onload="hljs.initHighlightingOnLoad();"
    ></script>

    

    <script>
        window.onload = function () {
            hljs.highlightAll();
        };
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/lisp.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/mariadb.min.js"></script>
    

    
    
    
    
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css"
  integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js"
  integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>


<script>
  document.addEventListener('DOMContentLoaded', () =>
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
      ],
      
      throwOnError: false,
    }),
  );
</script>

    
    
    

    
    <link
        rel="icon"
        href="http://localhost:1313/favicon.ico"
    />
    <link
        rel="apple-touch-icon"
        href="http://localhost:1313/apple-touch-icon.png"
    />

    
    <meta name="generator" content="Hugo 0.140.2">

    
    
    
</head>


    <body class="text-black duration-200 ease-out dark:text-white">
        
        <header class="mx-auto flex h-12 px-8 lg:justify-center">
    
    <div
        class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center max-w-[--w]"
    >
        <a
            class="-translate-y-[1px] text-2xl font-medium"
            href="http://localhost:1313/"
            >caoyang 2002</a
        >
        <div
            class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
            role="button"
            aria-label="Dark"
        ></div>
    </div>

    <div
        class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[3rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
        role="button"
        aria-label="Menu"
    ></div>

    

    <script>
        
        const htmlClass = document.documentElement.classList;
        setTimeout(() => {
            htmlClass.remove("not-ready");
        }, 10);

        
        const btnMenu = document.querySelector(".btn-menu");
        btnMenu.addEventListener("click", () => {
            if (htmlClass.contains("open")) {
                htmlClass.remove("open");
                htmlClass.add("close");
            } else {
                htmlClass.remove("close");
                htmlClass.add("open");
            }
        });

        
        const metaTheme = document.querySelector('meta[name="theme-color"]');
        const lightBg = "#faf8f1".replace(/"/g, "");
        const setDark = (isDark) => {
            metaTheme.setAttribute("content", isDark ? "#000" : lightBg);
            htmlClass[isDark ? "add" : "remove"]("dark");
            localStorage.setItem("dark", isDark);
        };

        
        const darkScheme = window.matchMedia("(prefers-color-scheme: dark)");
        if (htmlClass.contains("dark")) {
            setDark(true);
        } else {
            const darkVal = localStorage.getItem("dark");
            setDark(darkVal ? darkVal === "true" : darkScheme.matches);
        }

        
        darkScheme.addEventListener("change", (event) => {
            setDark(event.matches);
        });

        
        const btnDark = document.querySelector(".btn-dark");
        btnDark.addEventListener("click", () => {
            setDark(localStorage.getItem("dark") !== "true");
        });
    </script>

    
    <div
        class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
    >
        

        <nav
            class="lg:ml-0 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"
        >
            
            
            
            <a
                class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu"
                href="/"
                >首页
            </a>
            
            <a
                class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu"
                href="/about/"
                >关于
            </a>
            
            <a
                class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu"
                href="/contact/"
                >联系
            </a>
            
            <a
                class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu"
                href="/guestbook/"
                >留言
            </a>
            
            <a
                class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal header-menu"
                href="/search/"
                >搜索
            </a>
            
            
            

            <div class="language-selector">
                <div class="inline-block text-left dropdown">
    
    <div>
        <p class="selected-language">Chinese</p>
    </div>

    
    <div style="background-color: red; z-index: 1000">
        
    </div>
</div>

<script>
    
    const dropdownButton = document.getElementById("dropdownButton");
    const dropdownMenu = document.getElementById("dropdownMenu");
    const dropdownIcon = document.querySelector(".dropdown-icon");

    
    dropdownButton.addEventListener("click", function () {
        dropdownMenu.classList.toggle("show");
        dropdownButton.parentElement.classList.toggle("open");
    });

    
    dropdownMenu.querySelectorAll("li").forEach((item) => {
        item.addEventListener("click", function () {
            
            dropdownButton.textContent = item.textContent + " ";
            dropdownButton.appendChild(dropdownIcon);

            
            dropdownMenu.classList.remove("show");
            dropdownButton.parentElement.classList.remove("open");

            
            const selectedValue = item.getAttribute("data-value");
            console.log("Selected Language:", selectedValue);
        });
    });

    
    document.addEventListener("click", function (event) {
        if (
            !dropdownButton.contains(event.target) &&
            !dropdownMenu.contains(event.target)
        ) {
            dropdownMenu.classList.remove("show");
            dropdownButton.parentElement.classList.remove("open");
        }
    });
</script>

<style>
     
    .dropdown {
         
        display: inline-block;
        margin: 0;
    }

     
    .dropdown-menu {
         
         
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 8px;
         
         
        padding: 0;
        margin: 0;
        display: none;
         
         
    }

    .dropdown-menu.show {
        display: block;
    }

     
    .dropdown-menu li {
        padding: 0.2rem;
        cursor: pointer;
        color: #333;
         
         
    }

    .dropdown-menu > li:hover {
        background-color: transparent;  
    }
    .selected-language:hover {
        color: #0042da;
    }
</style>

            </div>
        </nav>
    </div>
</header>

<style>
     
    .language-selector {
        position: relative;  
        display: inline-block;  
        z-index: 10;
    }

     
    .language-selector .dropdown-menu {
        display: none;
        position: absolute;
        top: 100%;
        right: 0;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        z-index: 50;
    }

    .language-selector:hover .dropdown-menu {
        display: block;
    }

     
    .header-menu:hover {
        color: #0042da;
    }
    header {
        position: fixed;
        top: 0;
        left: 0;  
        right: 0;  
        z-index: 50;
        width: 100vw;  
        text-align: center;

         
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        background: rgba(255, 255, 255, 0.5);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }
    .header-menu:hover {
        color: #0042da;
    }
</style>


        <div class="relative flex justify-start max-w-[90vw] px-8">
            <main
                class="min-h-[calc(100vh-5rem)] py-12 prose prose-neutral flex-1 dark:prose-invert text-left"
            >
                


<article class="text-left">
    
    <div class="mb-14 mt-8">
        <h1 class="!my-0 pb-2.5">Openwrt_failed_to_install_1panel</h1>

        
        <div class="text-xs antialiased opacity-60">
            

            

            <time>
                2025年1月29日星期三
            </time>

            
            <span class="mx-1">&middot;</span>
            <span>
                simons
            </span>
            
            <span class="mx-1">&middot;</span>

            <span class="post-date">
                本文共 1554
                个字 ， 预计需要阅读 4
                分钟
            </span>

            
        </div>
        

        <span class="text-md antialiased opacity-60">
             
            <a
                href="http://localhost:1313/tags/openwrt"
                class="mb-2 ltr:mr-1.5 rtl:ml-1.5 px-3 py-1 rounded-lg no-underline bg-black/[3%] hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
            >
                openwrt
            </a>
            
        </span>
        
        
        
    </div>

    <section><p>解决在 openwrt 中自动安装 1panel 失败的问题：</p>










<div>
    <pre><code class="language-error" data-lang="error">Multiple packages (libgcc1 and libgcc1) providing same name marked HOLD or
PREFER. Using latest.
Multiple packages (libgcc1 and libgcc1) providing same name marked HOLD or PREFER. Using latest.
Installing app-meta-istorepanel (1.0.6-20250116) to root...
Downloading https://istore.istoreos.com/repo/all/meta/app-meta-istorepanel_1.0.6-20250116_all.ipk
Collected errors:
 * pkg_hash_check_unresolved: cannot find dependency zoneinfo-asia for luci-app-istorepanel
 * pkg_hash_fetch_best_installation_candidate: Packages for luci-app-istorepanel found, but incompatible with the architectures configured
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for app-meta-istorepanel:
 *      zoneinfo-asia
 * opkg_install_cmd: Cannot install package app-meta-istorepanel.</code></pre>
</div>

<p>存在的问题：</p>
<ol>
<li>缺少依赖包 <code>zoneinfo-asia</code></li>
<li>架构不兼容的问题</li>
<li>存在重复的 <code>libgcc1</code> 包</li>
</ol>
<blockquote>
<p>如果之前安装过 1panel 那么这个失败原因可能是因为之前安装的包没有被完全清理</p>
<p>在命令行中，检查 <code>/opt/</code> 和 <code>/opt/containerd</code> 下是否有 <code>1Panel</code> 的目录，如果有就删除，再重新安装</p>
</blockquote>
<h1 id="后面的没写完因为我删除-1panel-目录后就可以在-istore--中安装了">后面的没写完，因为我删除 1Panel 目录后就可以在 istore  中安装了</h1>
<h1 id="方法一检查是否可以手动通过-docker-的方式安装">方法一：检查是否可以手动通过 docker 的方式安装</h1>
<p>
<a href="https://github.com/xeath/1panel-in-docker"
   
   
     target="_blank"
     rel="noopener noreferrer"
     class="external-link"
   >
   https://github.com/xeath/1panel-in-docker
   
     <span class="external-icon">↗</span>
   
</a>
</p>
<h1 id="命令行">命令行</h1>










<div>
    <pre><code class="language-bash" data-lang="bash">docker run -dt \
    --name 1panel \
    --restart always \
    --network host \
    -v /var/run/docker.sock:/var/run/docker.sock \
    -v /var/lib/docker:/var/lib/docker \
    -v /opt:/opt \
    -e TZ=Asia/Shanghai \
    xeath/1panel-in-docker:latest</code></pre>
</div>

<h2 id="部署文件">部署文件</h2>
<p>创建一个 <code>docker-compose.yml</code> 文件，内容类似如下</p>










<div>
    <pre><code class="language-bash" data-lang="bash">version: &#39;3&#39;
services:
  1panel:
    container_name: 1panel # 容器名
    restart: always
    ports:
      - &#34;8080:1990&#34;  # 将容器内的 80 端口映射到宿主机的 8080 端口
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /var/lib/docker:/var/lib/docker
      - /opt:/opt
    environment:
      - TZ=Asia/Shanghai
    image: xeath/1panel-in-docker:latest
    labels:  
      createdBy: &#34;Apps&#34;</code></pre>
</div>

<p>然后 <code>docker-compose up -dt</code> 运行</p>
<p>如果提示找不到命令 <code>docker-compose</code></p>
<p>
<a href="https://mirror-03.infra.openwrt.org/releases/22.03.5/packages/x86_64/packages/"
   
   
     target="_blank"
     rel="noopener noreferrer"
     class="external-link"
   >
   https://mirror-03.infra.openwrt.org/releases/22.03.5/packages/x86_64/packages/
   
     <span class="external-icon">↗</span>
   
</a>
</p>










<div>
    <pre><code class="language-bash" data-lang="bash">wget https://mirror-03.infra.openwrt.org/releases/22.03.5/packages/x86_64/packages/docker-compose_2.15.1-1_x86_64.ipk
opkg install ./docker-compose_2.15.1-1_x86_64.ipk </code></pre>
</div>

<h1 id="方法二手动安装">方法二：手动安装</h1>
<h2 id="解决-zoneinfo-的问题">解决 zoneinfo 的问题</h2>
<p>在该地址复制包的链接 
<a href="https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/packages/"
   
   
     target="_blank"
     rel="noopener noreferrer"
     class="external-link"
   >
   https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/packages/
   
     <span class="external-icon">↗</span>
   
</a>
</p>










<div>
    <pre><code class="language-bash" data-lang="bash"># 安装 core
wget https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/packages/zoneinfo-core_2023c-2_x86_64.ipk
opkg install ./zoneinfo-core_2023c-2_x86_64.ipk

# 安装 asia
wget https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/packages/zoneinfo-asia_2023c-2_x86_64.ipk
opkg install ./zoneinfo-asia_2023c-2_x86_64.ipk</code></pre>
</div>

<h1 id="方法三opkg-安装">方法三：opkg 安装</h1>
<ol>
<li>首先更新软件包列表:</li>
</ol>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg update</code></pre>
</div>

<ol start="2">
<li>安装缺少的依赖包:</li>
</ol>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg install zoneinfo-asia</code></pre>
</div>

<ol start="3">
<li>如果上面的命令报错,可以尝试添加更多的软件源。编辑 <code>/etc/opkg/customfeeds.conf</code>,添加:</li>
</ol>










<div>
    <pre><code class="language-" data-lang="">src/gz openwrt_base https://downloads.openwrt.org/releases/{你的系统版本}/packages/{你的架构}/base
src/gz openwrt_packages https://downloads.openwrt.org/releases/{你的系统版本}/packages/{你的架构}/packages</code></pre>
</div>

<ol start="4">
<li>解决 libgcc1 冲突:</li>
</ol>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg remove libgcc1
opkg install --force-reinstall libgcc1</code></pre>
</div>

<ol start="5">
<li>然后重新尝试安装:</li>
</ol>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg install app-meta-istorepanel</code></pre>
</div>

<p>如果还是不行,可以尝试:</p>
<ol>
<li>确认你的系统架构(运行 <code>opkg print-architecture</code>)</li>
<li>检查是否有合适你架构的版本</li>
<li>或者考虑手动下载对应架构的 ipk 包进行安装</li>
</ol>
<p>如果需要更具体的帮助,请提供:</p>
<ol>
<li>系统版本信息(运行 <code>cat /etc/openwrt_release</code>)</li>
<li>系统架构信息(运行 <code>opkg print-architecture</code>)</li>
</ol>
<h1 id="方法二手动安装-1">方法二：手动安装</h1>
<p>从错误信息来看，<code>opkg update</code> 无法从多个软件源下载 <code>Packages.gz</code> 文件，导致更新失败。这可能是由于以下原因之一：</p>
<ol>
<li><strong>网络连接问题</strong>：你的设备可能无法访问这些软件源。</li>
<li><strong>软件源 URL 失效</strong>：某些软件源可能已经失效或不可用。</li>
<li><strong>DNS 解析问题</strong>：设备可能无法正确解析软件源的域名。</li>
<li><strong>软件源配置错误</strong>：软件源的 URL 可能配置错误或不适合你的 OpenWrt 版本。</li>
</ol>
<p>以下是解决这些问题的步骤：</p>
<hr>
<h3 id="1-检查网络连接">1. 检查网络连接</h3>
<p>确保你的设备可以访问互联网。尝试使用 <code>ping</code> 命令测试网络连接：</p>










<div>
    <pre><code class="language-bash" data-lang="bash">ping mirrors.cloud.tencent.com
ping istore.istoreos.com</code></pre>
</div>

<p>如果无法 ping 通，检查网络配置（如 DNS 设置或网关配置）。</p>
<hr>
<h3 id="2-更换软件源">2. 更换软件源</h3>
<p>某些软件源可能暂时不可用。你可以尝试更换为其他可用的软件源。编辑 <code>/etc/opkg/distfeeds.conf</code> 或 <code>/etc/opkg/customfeeds.conf</code> 文件，将软件源替换为以下推荐的源之一：</p>
<h4 id="推荐软件源适用于-openwrt-2203-或更新版本">推荐软件源（适用于 OpenWrt 22.03 或更新版本）：</h4>










<div>
    <pre><code class="language-bash" data-lang="bash">src/gz openwrt_core https://downloads.openwrt.org/releases/22.03.5/targets/x86/64/packages
src/gz openwrt_base https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/base
src/gz openwrt_luci https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/luci
src/gz openwrt_packages https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/packages
src/gz openwrt_routing https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/routing
src/gz openwrt_telephony https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/telephony</code></pre>
</div>

<h4 id="保存后更新软件包列表">保存后，更新软件包列表：</h4>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg update</code></pre>
</div>

<hr>
<h3 id="3-手动下载-zoneinfo-asia">3. 手动下载 <code>zoneinfo-asia</code></h3>
<p>如果软件源问题无法解决，你可以手动下载 <code>zoneinfo-asia</code> 包并安装。以下是步骤：</p>
<h4 id="下载-zoneinfo-asia">下载 <code>zoneinfo-asia</code>：</h4>
<p>访问 
<a href="https://downloads.openwrt.org/"
   
   
     target="_blank"
     rel="noopener noreferrer"
     class="external-link"
   >
   OpenWrt 官方软件包仓库
   
     <span class="external-icon">↗</span>
   
</a>
 或 
<a href="https://istore.istoreos.com/repo/all/"
   
   
     target="_blank"
     rel="noopener noreferrer"
     class="external-link"
   >
   iStoreOS 软件包仓库
   
     <span class="external-icon">↗</span>
   
</a>
，找到适合你架构的 <code>zoneinfo-asia</code> 包。</p>
<p>例如，下载 <code>zoneinfo-asia</code>：</p>










<div>
    <pre><code class="language-bash" data-lang="bash">wget https://downloads.openwrt.org/releases/22.03.5/packages/x86_64/base/zoneinfo-asia_2022c-1_x86_64.ipk</code></pre>
</div>

<h4 id="安装-zoneinfo-asia">安装 <code>zoneinfo-asia</code>：</h4>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg install ./zoneinfo-asia_2022c-1_x86_64.ipk</code></pre>
</div>

<hr>
<h3 id="4-检查-openwrt-版本和架构">4. 检查 OpenWrt 版本和架构</h3>
<p>确保你使用的软件源与你的 OpenWrt 版本和架构匹配。运行以下命令检查系统信息：</p>










<div>
    <pre><code class="language-bash" data-lang="bash">cat /etc/openwrt_release
uname -m</code></pre>
</div>

<p>例如，如果你的架构是 <code>x86_64</code>，确保下载的包也是 <code>x86_64</code> 架构。</p>
<hr>
<h3 id="5-手动安装-app-meta-istorepanel">5. 手动安装 <code>app-meta-istorepanel</code></h3>
<p>如果 <code>zoneinfo-asia</code> 安装成功，但仍然无法通过 <code>opkg</code> 安装 <code>app-meta-istorepanel</code>，可以尝试手动下载并安装：</p>
<h4 id="下载-app-meta-istorepanel">下载 <code>app-meta-istorepanel</code>：</h4>










<div>
    <pre><code class="language-bash" data-lang="bash">wget https://istore.istoreos.com/repo/all/meta/app-meta-istorepanel_1.0.6-20250116_all.ipk</code></pre>
</div>

<h4 id="安装-app-meta-istorepanel">安装 <code>app-meta-istorepanel</code>：</h4>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg install ./app-meta-istorepanel_1.0.6-20250116_all.ipk</code></pre>
</div>

<hr>
<h3 id="6-检查依赖关系">6. 检查依赖关系</h3>
<p>如果安装过程中仍然提示依赖问题，可以使用以下命令检查依赖关系：</p>










<div>
    <pre><code class="language-bash" data-lang="bash">opkg info app-meta-istorepanel</code></pre>
</div>

<p>确保所有依赖包都已安装。如果缺少依赖包，手动下载并安装它们。</p>
<h3 id="7-清理缓存">7. 清理缓存</h3>
<p>如果问题仍然存在，尝试清理 <code>opkg</code> 缓存并重新更新：</p>










<div>
    <pre><code class="language-bash" data-lang="bash">rm -rf /var/opkg-lists/*
opkg update</code></pre>
</div>

<h1 id="其他命令">其他命令</h1>










<div>
    <pre><code class="language-bash" data-lang="bash">docker-compose up -d # 启动
docker-compose down # 停止

docker logs 1panel # 查看日志
docker exec -it 1panel /bin/bash # 进入容器
docker ps -a # 查看进程
docker stop 1panel # 停止容器
docker rm 1panel # 删除镜像</code></pre>
</div>

</section>

      

<div class="reward-container">
    <button
        class="reward-button"
        aria-expanded="false"
        aria-controls="reward-pop"
    >
        支持作者
    </button>
    <div id="reward-pop" class="reward-popup hidden">
        <p class="reward-text">感谢支持！🍻</p>
        <div class="qr-container">
            <div class="reward-qr">
                <img
                    src="/images/payment/wechat.jpg"
                    alt="微信支付二维码"
                    loading="lazy"
                />
                <p>微信</p>
            </div>
            <div class="reward-qr">
                <img src="/images/payment/alipay.jpg" alt="支付宝二维码" loading="lazy" />
                <p>支付宝</p>
            </div>
        </div>
    </div>
</div>

<style>
    .reward-container {
        text-align: center;
        margin: 2rem 0;
    }

    .reward-button {
        padding: 0.5rem 1.25rem;
        background-color: #f44336;
        color: white;
        border: none;
        border-radius: 1rem;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 1rem;
    }

    .reward-button:hover {
        background-color: red;
        font-size: 1rem;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .reward-button:active {
        background-color: red;
        font-weight: 700;
        font-size: 0.9rem;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .reward-popup {
        margin-top: 1.5rem;
        opacity: 0;
        transform: translateY(-10px);
        transition: all 0.3s ease;
    }

    .reward-popup.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .reward-text {
        margin-bottom: 1rem;
        color: #333;
        font-size: 1.1rem;
    }
    .reward-text:is(.dark *) {
        margin-bottom: 1rem;
        color: #fff;
        font-size: 1.1rem;
    }

    .qr-container {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
    }

    .reward-qr {
        text-align: center;
    }

    .reward-qr img {
        width: 200px;
        padding: 1rem;
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease;
    }

    .reward-qr img:hover {
        transform: scale(1.02);
    }

    .reward-qr p {
        margin: 0.5rem 0 0;
        color: #666;
        font-size: 0.95rem;
    }

    .reward-qr p:is(.dark *) {
        margin: 0.5rem 0 0;
        color: #fff;
        font-size: 0.95rem;
    }

    .hidden {
        display: none;
    }
</style>

<script>
    const button = document.querySelector(".reward-button");
    const popup = document.getElementById("reward-pop");

    button.addEventListener("click", () => {
        const isExpanded = button.getAttribute("aria-expanded") === "true";
        button.setAttribute("aria-expanded", !isExpanded);

        popup.classList.toggle("hidden");
        setTimeout(() => {
            popup.classList.toggle("visible");
        }, 10);
    });
</script>
 

    
    

    
    
    
    
    <nav
        class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
    >
        
        <a class="ltr:pr-3 rtl:pl-3" href="http://localhost:1313/post/2024/03/notice/"
            ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span
            ><span>公告</span></a
        >
        
        
        <a
            class="ltr:ml-auto rtl:mr-auto justify-end pl-3"
            href="http://localhost:1313/post/2025/01/huffman_coding_a_classic_algorithm_for_data_compression/"
            ><span>哈夫曼编码：数据压缩的经典算法</span
            ><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
        >
        
    </nav>
    
    

    
    <div class="mt-12 rounded-xl" style="text-align: center">
          

<button class="feedback-trigger" onclick="toggleFeedback()">建议 / 反馈</button>
<div class="feedback-form hidden">
    <p>感谢你的提议，我将会尽快使用回复您！（此反馈将使用您的邮箱发送）</p>
    <form id="feedback-form" onsubmit="sendFeedback(event)">
        <input type="text" name="name" placeholder="怎么称呼？" required />
        
        <textarea
            name="message"
            placeholder="请输入您的建议或意见..."
            required
        ></textarea>
        <button type="submit">发送</button>
    </form>
</div>

<style>
    .feedback-trigger {
        background: #007bff;
        color: white;
        border: none;
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        margin: 1rem;
    }

    .feedback-form {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 10px;
    }

    .feedback-form.hidden {
        display: none;
    }

    .feedback-form input,
    .feedback-form textarea {
        width: 100%;
        margin-bottom: 10px;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    .feedback-form textarea {
        height: 100px;
        resize: vertical;
    }

    .feedback-form button {
        width: 100%;
        background: #007bff;
        color: white;
        border: none;
        padding: 8px;
        border-radius: 4px;
        cursor: pointer;
    }
</style>

<script>
    function toggleFeedback() {
        document.querySelector(".feedback-form").classList.toggle("hidden");
    }

    function sendFeedback(e) {
        e.preventDefault();
        const form = e.target;
        const mailtoLink = `mailto:reggiesimons2cy@gmail.com?subject=http:\/\/localhost:1313\/ Feedback from ${form.name.value}&body=${encodeURIComponent(form.message.value)}%0D%0A%0D%0AFrom: ${form.name.value}%0D%0AEmail: ${form.email.value}`;
        window.location.href = mailtoLink;
    }
</script>
 
    </div>

    
    
    <div class="mt-24 w-100rem" id="disqus_thread"></div>
    <script>
        const disqusShortname = "caoyang2002.xyz";
        const script = document.createElement("script");
        script.src = "https://" + disqusShortname + ".disqus.com/embed.js";
        script.setAttribute("data-timestamp", +new Date());
        document.head.appendChild(script);
    </script>
    

    
    

    


    
    <div class="giscus mt-24"></div>
    <script
        src="https://giscus.app/client.js"
        data-repo="caoyang2002/caoyang2002"
        data-repo-id="R_kgDONgnnzg"
        data-category="Announcements"
        data-category-id="DIC_kwDONgnnzs4ClayH"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async
    ></script>
    
</article>


            </main>
            
            <div class="ml-2 mr-4">


<button class="mobile-toc-toggle">
<svg t="1737363365612" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7154" width="32" height="32"><path d="M811.6 264.1H378.2c-19.8 0-36-16.2-36-36s16.2-36 36-36h433.5c19.8 0 36 16.2 36 36-0.1 19.8-16.3 36-36.1 36zM811.6 522.1H378.2c-19.8 0-36-16.2-36-36s16.2-36 36-36h433.5c19.8 0 36 16.2 36 36-0.1 19.8-16.3 36-36.1 36zM811.6 780.1H378.2c-19.8 0-36-16.2-36-36s16.2-36 36-36h433.5c19.8 0 36 16.2 36 36-0.1 19.8-16.3 36-36.1 36z" fill="#223D60" p-id="7155"></path><path d="M210.2 229m-37.9 0a37.9 37.9 0 1 0 75.8 0 37.9 37.9 0 1 0-75.8 0Z" fill="#223D60" p-id="7156"></path><path d="M210.2 487m-37.9 0a37.9 37.9 0 1 0 75.8 0 37.9 37.9 0 1 0-75.8 0Z" fill="#223D60" p-id="7157"></path><path d="M210.2 745m-37.9 0a37.9 37.9 0 1 0 75.8 0 37.9 37.9 0 1 0-75.8 0Z" fill="#223D60" p-id="7158"></path></svg>
</button>


<aside class="toc-aside mr-4">

  
  <div class="toc-container">
    <div class="toc-header">
      <h3 class="toc-title">目录</h3>

      <button class="toc-close">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
          <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <nav id="TableOfContents" class="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#后面的没写完因为我删除-1panel-目录后就可以在-istore--中安装了">后面的没写完，因为我删除 1Panel 目录后就可以在 istore  中安装了</a></li>
    <li><a href="#方法一检查是否可以手动通过-docker-的方式安装">方法一：检查是否可以手动通过 docker 的方式安装</a></li>
    <li><a href="#命令行">命令行</a>
      <ul>
        <li><a href="#部署文件">部署文件</a></li>
      </ul>
    </li>
    <li><a href="#方法二手动安装">方法二：手动安装</a>
      <ul>
        <li><a href="#解决-zoneinfo-的问题">解决 zoneinfo 的问题</a></li>
      </ul>
    </li>
    <li><a href="#方法三opkg-安装">方法三：opkg 安装</a></li>
    <li><a href="#方法二手动安装-1">方法二：手动安装</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1-检查网络连接">1. 检查网络连接</a></li>
            <li><a href="#2-更换软件源">2. 更换软件源</a>
              <ul>
                <li><a href="#推荐软件源适用于-openwrt-2203-或更新版本">推荐软件源（适用于 OpenWrt 22.03 或更新版本）：</a></li>
                <li><a href="#保存后更新软件包列表">保存后，更新软件包列表：</a></li>
              </ul>
            </li>
            <li><a href="#3-手动下载-zoneinfo-asia">3. 手动下载 <code>zoneinfo-asia</code></a>
              <ul>
                <li><a href="#下载-zoneinfo-asia">下载 <code>zoneinfo-asia</code>：</a></li>
                <li><a href="#安装-zoneinfo-asia">安装 <code>zoneinfo-asia</code>：</a></li>
              </ul>
            </li>
            <li><a href="#4-检查-openwrt-版本和架构">4. 检查 OpenWrt 版本和架构</a></li>
            <li><a href="#5-手动安装-app-meta-istorepanel">5. 手动安装 <code>app-meta-istorepanel</code></a>
              <ul>
                <li><a href="#下载-app-meta-istorepanel">下载 <code>app-meta-istorepanel</code>：</a></li>
                <li><a href="#安装-app-meta-istorepanel">安装 <code>app-meta-istorepanel</code>：</a></li>
              </ul>
            </li>
            <li><a href="#6-检查依赖关系">6. 检查依赖关系</a></li>
            <li><a href="#7-清理缓存">7. 清理缓存</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#其他命令">其他命令</a></li>
  </ul>
</nav>
    </nav>
  </div>
  
</aside>


<style>
 
.toc-aside {
  position: fixed;
  top: 6rem;
  bottom: 4rem;
  right: 0;
  width: 16rem;
  z-index: 100;
  transition: transform 0.3s ease;
}

 
.toc-container {
  background: white;
  height: 100%;
  border-radius: 0.5rem 0.5rem 0.5rem 0.5rem;
  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
}

 
.toc-header {
  position: sticky;
  border-radius: 0.5rem 0.5rem 0 0;
  top: 0;
  background: white;
  padding: 1rem;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 10;
}

.toc-title {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

 
.mobile-toc-toggle {
  display: none;
  position: fixed;
  top: 6rem;
  right: 1rem;
   
  z-index: 99;
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  background: white;
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  color: #4b5563;
  cursor: pointer;
  transition: all 0.2s;
}

.mobile-toc-toggle:hover {
  background: #f3f4f6;
}

.mobile-toc-toggle .menu-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

 
.toc-close {
  padding: 0.5rem;
  background: none;
  border: none;
  color: --bg;
  cursor: pointer;
  transition: all 0.2s;
}

.toc-close:hover {
  color: #111827;
}

 
.toc {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  scrollbar-gutter: stable;
}

 
.toc ul {
  list-style: none;
  padding-left: 1rem;
  margin: 0;
}

.toc li {
  margin: 0.5rem 0;
}

.toc a {
  display: block;
  padding: 0.25rem 0.5rem;
  color: #4b5563;
  text-decoration: none;
  border-radius: 0.25rem;
  transition: all 0.2s;
}

.toc a:hover {
  background-color: #f3f4f6;
  color: #111827;
}

.toc a:active {
  background-color: #f3f4f6;
  color: #111827;
  font-weight: 500;
}

 
.toc::-webkit-scrollbar {
  width: 4px;
}

.toc::-webkit-scrollbar-track {
  background: transparent;
}

.toc::-webkit-scrollbar-thumb {
  background-color: #d1d1d1;
  border-radius: 4px;
}

 
@media (max-width: 912px) {
  .mobile-toc-toggle {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .toc-aside {
    transform: translateX(100%);
    width: 80vw;
    max-width: 20rem;
  }

  .toc-aside.show {
    transform: translateX(0);
  }
}

 
 

 
h1, h2, h3, h4, h5, h6 {
  scroll-margin-top: 100px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const tocAside = document.querySelector('.toc-aside');
  const mobileToggle = document.querySelector('.mobile-toc-toggle');
  const closeButton = document.querySelector('.toc-close');


  
  mobileToggle?.addEventListener('click', () => {
    tocAside?.classList.add('show');
  });

  
  closeButton?.addEventListener('click', () => {
    tocAside?.classList.remove('show');
  });

  
  document.addEventListener('click', (e) => {
    if (window.innerWidth <= 912 &&
        tocAside?.classList.contains('show') &&
        !tocAside.contains(e.target) &&
        !mobileToggle?.contains(e.target)) {
      tocAside.classList.remove('show');
    }
  });

  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const id = entry.target.getAttribute('id');
      const tocLink = document.querySelector(`.toc a[href="#${id}"]`);

      if (entry.intersectionRatio > 0) {
        document.querySelectorAll('.toc a.active').forEach(node => {
          node.classList.remove('active');
        });
        tocLink?.classList.add('active');
      }
    });
  }, {
    rootMargin: '-20% 0px -80% 0px'
  });

  
  document.querySelectorAll('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').forEach(heading => {
    observer.observe(heading);
  });

});
</script>
</div>

            
        </div>

        <footer class="flex items-center text-xs uppercase h-8">
    
    <div class="mr-auto opacity-60">
         &copy; 2025
        <a class="link" href="http://localhost:1313/">caoyang 2002</a>
        
    </div>

    
    <div>
        <link
            rel="stylesheet"
            href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
        />
        <script
            async
            src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"
        ></script>
        
        <p class="link mx-6 opacity-60">
            本站累计访问次数
            <span id="busuanzi_value_page_pv"
                ><i class="fa fa-spinner fa-spin"></i
            ></span>
        </p>
    </div>

    <a
        class="link mx-6 opacity-60"
        href="https://gohugo.io/"
        rel="noopener"
        target="_blank"
        >powered by hugo️️</a
    >️
    <a
        class="link mx-6 opacity-60"
        href="https://github.com/nanxiaobei/hugo-paper"
        rel="noopener"
        target="_blank"
        >hugo-paper</a
    >
    <a
        class="link opacity-60"
        href="https://github.com/caoyang2002/hugo-focus"
        rel="noopener"
        target="_blank"
        >hugo-focus</a
    >
</footer>

<style>
    footer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 50;
        width: 100%;

        padding: 0.5rem;
        padding-bottom: calc(0.5rem + var(--safe-padding-bottom));
        padding-left: max(0.5rem, var(--safe-padding-left));
        padding-right: max(0.5rem, var(--safe-padding-right));

        display: flex;
        justify-content: center;
        align-items: center;

        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(12px);
        background: rgba(255, 255, 255, 0.85);
        border-top: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
    }

     
    .dark footer {
        background: rgba(0, 0, 0, 0.85);
        border-top-color: rgba(255, 255, 255, 0.1);
    }

     
    .footer-content {
        width: 100%;
        max-width: var(--w);
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
    }

     
    .footer-element {
        padding: 0.75rem 1.5rem;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        opacity: 0.8;
        border-radius: 0.5rem;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
        transition: all 0.2s ease;
    }

    .footer-element:hover {
        opacity: 1;
        background: rgba(255, 255, 255, 0.2);
    }

    .dark .footer-element {
        background: rgba(255, 255, 255, 0.05);
    }

    .dark .footer-element:hover {
        background: rgba(255, 255, 255, 0.1);
    }

     
    @media (max-width: 768px) {
        footer {
            padding-top: 0.5rem;
            padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
        }

        .footer-content {
            padding: 0 0.5rem;
            gap: 0.5rem;
        }

        .footer-element {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
        }
    }

    @media (min-width: 768px) {
        .footer-element {
            font-size: 0.875rem;
        }
    }

    @media (min-width: 1024px) {
        .footer-content {
            padding: 0 2rem;
            gap: 2rem;
        }

        .footer-element {
            padding: 0.75rem 2rem;
        }
    }
</style>

        
        
    </body>
</html>
