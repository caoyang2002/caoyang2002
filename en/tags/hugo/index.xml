<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugo on cyrus reggie</title><link>https://simons.qzz.io/en/tags/hugo/</link><description>Recent content in Hugo on cyrus reggie</description><generator>Hugo</generator><language>en-US</language><lastBuildDate>Sun, 25 Jan 2026 18:42:54 +0800</lastBuildDate><atom:link href="https://simons.qzz.io/en/tags/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo 主题创建方法及简单说明</title><link>https://simons.qzz.io/en/post/2025/01/create_hugo_theme/</link><pubDate>Fri, 03 Jan 2025 11:11:07 +0800</pubDate><guid>https://simons.qzz.io/en/post/2025/01/create_hugo_theme/</guid><description>&lt;h1 id="参考"&gt;参考：&lt;/h1&gt;
&lt;p&gt;中文文档 

&lt;a href="https://hugo.opendocs.io/getting-started/quick-start/" target="_blank"
 rel="noopener noreferrer" class="external-link" data-preview-url="https://hugo.opendocs.io/getting-started/quick-start/" data-preview-enabled="true" &gt;
 https://hugo.opendocs.io/getting-started/quick-start/
 
 &lt;span class="external-icon"&gt;
 
 
 
 &lt;svg
 style="display:inline-block;width:0.85em;height:0.85em;vertical-align:middle;fill:currentColor" t="1769752196949" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2655" width="200" height="200"&gt;&lt;path d="M775.364451 0c94.991953 5.563939 180.631008 52.428422 224.93552 156.704272 45.055503 105.948832 24.985725 204.456746-52.700419 288.662818-54.989394 59.493344-114.038743 115.266729-171.791106 172.200101-25.087723 24.780727-65.229281 25.565718-86.971041 2.73097-21.981758-23.073746-19.592784-54.817396 6.825925-81.339103 56.661375-56.865373 114.140742-112.979754 170.188124-170.358122 84.479069-86.492046 46.966482-223.979531-69.734232-254.972189-48.571464-12.902858-95.162951-3.993956-132.094543 30.378665-59.391345 55.29539-115.266729 114.139742-174.419077 169.504131-12.526862 11.706871-33.279633 21.844759-49.527454 20.820771-43.51952-2.661971-65.501278-55.397389-35.39561-86.766044 64.716286-67.412257 130.728559-133.801525 200.223793-196.195836C647.160865 13.379852 702.285257 0.339996 775.364451 0zM0 760.891611c0.443995-72.703198 25.769716-135.575505 76.731154-187.389934 56.21638-57.274369 113.320751-113.662747 170.358122-170.187124 27.100701-26.896703 60.414334-28.909681 83.352081-5.801936 23.824737 24.029735 21.503763 54.373401-6.723926 82.738088-54.271402 54.476399-109.464793 108.235807-163.224201 163.326199-66.491267 67.924251-69.289236 159.708239-8.020911 221.31756 58.606354 58.94835 155.543285 59.221347 216.812609-0.442995 55.704386-54.271402 109.907788-110.181785 165.442176-164.555186 33.347632-32.63064 84.035073-20.991769 92.840977 22.902748 3.208965 15.769826-3.173965 39.594563-14.096845 51.131436-60.415334 63.624299-120.693669 127.793591-186.467944 185.512955-80.519112 70.689221-174.863072 82.431091-273.233987 39.594563C58.708353 957.599442 0.272997 864.246471 0 760.891611z m736.588879-414.715428c-3.514961 6.621927-7.576916 20.923769-16.724816 30.241667a52102.42255 52102.42255 0 0 1-333.820319 335.800298c-23.756738 23.722738-57.548366 22.118756-79.87112-0.443996-22.527752-22.731749-21.913758-53.929405 3.173965-79.119127C419.085379 522.644238 529.164166 412.905448 639.139953 303.270656c17.850803-17.783804 38.774572-25.258722 63.145304-14.711837 21.709761 9.420896 32.767639 26.691706 34.337621 57.650364z" p-id="2656"&gt;&lt;/path&gt;&lt;/svg&gt; 
 &lt;/span&gt;
 
&lt;/a&gt;






&lt;style&gt;
 
 .link-preview {
 position: absolute;
 z-index: 9999;
 width: 320px;
 background: white;
 border-radius: 12px;
 box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
 border: 1px solid #e5e7eb;
 font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
 opacity: 0;
 transform: translateY(10px);
 transition: opacity 0.2s, transform 0.2s;
 pointer-events: none;
 }

 .link-preview.visible {
 opacity: 1;
 transform: translateY(0);
 pointer-events: auto;
 }

 .preview-header {
 display: flex;
 align-items: center;
 padding: 16px;
 border-bottom: 1px solid #f3f4f6;
 gap: 10px;
 }

 .preview-favicon {
 width: 16px;
 height: 16px;
 }

 .preview-title {
 flex: 1;
 font-weight: 600;
 font-size: 14px;
 color: #1f2937;
 white-space: nowrap;
 overflow: hidden;
 text-overflow: ellipsis;
 }

 .preview-close {
 background: none;
 border: none;
 font-size: 20px;
 cursor: pointer;
 color: #9ca3af;
 line-height: 1;
 padding: 0;
 width: 24px;
 height: 24px;
 display: flex;
 align-items: center;
 justify-content: center;
 border-radius: 4px;
 }

 .preview-close:hover {
 background: #f3f4f6;
 color: #374151;
 }

 .preview-description {
 padding: 16px;
 font-size: 14px;
 line-height: 1.5;
 color: #4b5563;
 max-height: 120px;
 overflow: hidden;
 display: -webkit-box;
 -webkit-line-clamp: 4;
 -webkit-box-orient: vertical;
 }

 .preview-image {
 height: 180px;
 overflow: hidden;
 border-bottom: 1px solid #f3f4f6;
 }

 .preview-image img {
 width: 100%;
 height: 100%;
 object-fit: cover;
 }

 .preview-footer {
 padding: 12px 16px;
 text-align: right;
 border-top: 1px solid #f3f4f6;
 }

 .preview-link {
 color: #3b82f6;
 text-decoration: none;
 font-size: 13px;
 font-weight: 500;
 }

 .preview-link:hover {
 text-decoration: underline;
 }

 .preview-loading {
 padding: 40px 20px;
 text-align: center;
 color: #6b7280;
 font-size: 14px;
 }

 .preview-error {
 padding: 40px 20px;
 text-align: center;
 color: #ef4444;
 font-size: 14px;
 }

 .hidden {
 display: none !important;
 }

 .preview-overlay {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 z-index: 9998;
 background: rgba(0, 0, 0, 0.1);
 }

 
 @media (prefers-color-scheme: dark) {
 .link-preview {
 background: #1f2937;
 border-color: #374151;
 color: #f9fafb;
 }

 .preview-header {
 border-color: #374151;
 }

 .preview-title {
 color: #f9fafb;
 }

 .preview-description {
 color: #d1d5db;
 }

 .preview-close {
 color: #9ca3af;
 }

 .preview-close:hover {
 background: #374151;
 color: #f9fafb;
 }

 .preview-footer {
 border-color: #374151;
 }

 .preview-link {
 color: #60a5fa;
 }
 }
&lt;/style&gt;

&lt;script&gt;
 class LinkPreview {
 constructor() {
 this.preview = null;
 this.timer = null;
 this.currentUrl = null;
 this.cache = new Map();
 this.init();
 }

 init() {
 
 const template = document.getElementById('preview-template');
 if (!template) return;

 this.preview = template.content.cloneNode(true).firstElementChild;
 document.body.appendChild(this.preview);

 
 document.addEventListener('mouseover', this.handleMouseOver.bind(this));
 document.addEventListener('mouseout', this.handleMouseOut.bind(this));

 
 this.preview.querySelector('.preview-close').addEventListener('click', () =&gt; {
 this.hidePreview();
 });

 
 const overlay = document.getElementById('preview-overlay');
 if (overlay) {
 overlay.addEventListener('click', () =&gt; this.hidePreview());
 }
 }

 handleMouseOver(e) {
 const link = e.target.closest('a[data-preview-enabled="true"]');
 if (!link) return;

 clearTimeout(this.timer);
 this.timer = setTimeout(() =&gt; {
 this.showPreview(link);
 }, 500); 
 }

 handleMouseOut(e) {
 const link = e.target.closest('a[data-preview-enabled="true"]');
 if (!link) return;

 clearTimeout(this.timer);
 this.timer = setTimeout(() =&gt; {
 if (!this.isMouseOverPreview()) {
 this.hidePreview();
 }
 }, 300);
 }

 isMouseOverPreview() {
 return this.preview &amp;&amp; this.preview.matches(':hover');
 }

 async showPreview(link) {
 const url = link.getAttribute('data-preview-url');
 if (!url || url === this.currentUrl) return;

 this.currentUrl = url;

 
 const rect = link.getBoundingClientRect();
 this.positionPreview(rect);

 
 this.showLoading();

 try {
 const data = await this.fetchPreviewData(url);
 this.renderPreview(data);
 } catch (error) {
 this.showError();
 }
 }

 positionPreview(linkRect) {
 const viewport = {
 width: window.innerWidth,
 height: window.innerHeight
 };

 let top = linkRect.bottom + 10;
 let left = linkRect.left;

 
 if (top + 350 &gt; viewport.height) {
 top = linkRect.top - 350 - 10;
 }
 if (left + 320 &gt; viewport.width) {
 left = viewport.width - 320 - 10;
 }
 if (left &lt; 10) left = 10;

 this.preview.style.top = `${top + window.scrollY}px`;
 this.preview.style.left = `${left}px`;
 this.preview.classList.add('visible');

 
 const overlay = document.getElementById('preview-overlay');
 if (overlay) overlay.classList.remove('hidden');
 }

 async fetchPreviewData(url) {
 
 if (this.cache.has(url)) {
 return this.cache.get(url);
 }

 
 
 const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`;

 const response = await fetch(proxyUrl);
 const data = await response.json();

 
 const parser = new DOMParser();
 const doc = parser.parseFromString(data.contents, 'text/html');

 const previewData = {
 title: doc.querySelector('title')?.textContent || '无标题',
 description: doc.querySelector('meta[name="description"]')?.getAttribute('content') || '',
 image: doc.querySelector('meta[property="og:image"]')?.getAttribute('content') || '',
 favicon: `https://www.google.com/s2/favicons?domain=${new URL(url).hostname}&amp;sz=32`,
 url: url
 };

 
 this.cache.set(url, previewData);
 return previewData;
 }

 renderPreview(data) {
 this.preview.querySelector('.preview-loading').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.add('hidden');

 const content = this.preview.querySelector('.preview-content');
 content.classList.remove('hidden');

 
 this.preview.querySelector('.preview-favicon').src = data.favicon;
 this.preview.querySelector('.preview-title').textContent = data.title;
 this.preview.querySelector('.preview-description').textContent = data.description;
 this.preview.querySelector('.preview-link').href = data.url;

 
 const imageContainer = this.preview.querySelector('.preview-image');
 if (data.image) {
 const img = document.createElement('img');
 img.src = data.image;
 img.alt = data.title;
 imageContainer.innerHTML = '';
 imageContainer.appendChild(img);
 } else {
 imageContainer.innerHTML = '&lt;div class="no-image"&gt;暂无预览图&lt;/div&gt;';
 }
 }

 showLoading() {
 this.preview.querySelector('.preview-content').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.add('hidden');
 this.preview.querySelector('.preview-loading').classList.remove('hidden');
 }

 showError() {
 this.preview.querySelector('.preview-content').classList.add('hidden');
 this.preview.querySelector('.preview-loading').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.remove('hidden');
 }

 hidePreview() {
 if (this.preview) {
 this.preview.classList.remove('visible');
 this.currentUrl = null;

 const overlay = document.getElementById('preview-overlay');
 if (overlay) overlay.classList.add('hidden');
 }
 }
 }

 
 document.addEventListener('DOMContentLoaded', () =&gt; {
 new LinkPreview();
 });
&lt;/script&gt;&lt;/p&gt;</description></item><item><title>hugo 配置</title><link>https://simons.qzz.io/en/post/2024/12/about_hugo_config/</link><pubDate>Sun, 22 Dec 2024 18:12:52 +0800</pubDate><guid>https://simons.qzz.io/en/post/2024/12/about_hugo_config/</guid><description>&lt;div&gt;
 &lt;pre&gt;&lt;code class="language-toml" data-lang="toml"&gt;# 基础优化配置
enableGitInfo = true # 启用 Git 信息,可以显示文章的最后修改时间
hasCJKLanguage = true # 启用中日韩文字支持,能准确统计字数
summaryLength = 140 # 文章摘要长度

# SEO 优化
[params]
keywords = [&amp;#34;博客&amp;#34;,&amp;#34;技术&amp;#34;,&amp;#34;编程&amp;#34;] # 网站关键词
description = &amp;#34;个人技术博客&amp;#34; # 网站描述
images = [&amp;#34;site-feature-image.jpg&amp;#34;] # 默认社交媒体分享图片
# 自定义 Open Graph 信息
[params.og]
title = &amp;#34;我的博客&amp;#34;
type = &amp;#34;website&amp;#34;
images = [&amp;#34;og-image.jpg&amp;#34;]

# 性能优化
[minify]
 disableCSS = false # 启用 CSS 压缩
 disableHTML = false # 启用 HTML 压缩
 disableJS = false # 启用 JS 压缩
 disableJSON = false # 启用 JSON 压缩
 minifyOutput = true # 压缩 HTML 输出

# 图片处理
[imaging]
 quality = 75 # JPEG 图片质量
 resampleFilter = &amp;#34;Lanczos&amp;#34; # 图片重采样过滤器
 anchor = &amp;#34;Smart&amp;#34; # 图片裁剪锚点

# 内容安全策略
[params.csp]
 childsrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;]
 fontsrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;, &amp;#34;https://fonts.gstatic.com&amp;#34;, &amp;#34;https://cdn.jsdelivr.net&amp;#34;]
 formaction = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;]
 framesrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;]
 imgsrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;]
 objectsrc = [&amp;#34;&amp;#39;none&amp;#39;&amp;#34;]
 stylesrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;, &amp;#34;&amp;#39;unsafe-inline&amp;#39;&amp;#34;]
 scriptsrc = [&amp;#34;&amp;#39;self&amp;#39;&amp;#34;, &amp;#34;&amp;#39;unsafe-inline&amp;#39;&amp;#34;, &amp;#34;&amp;#39;unsafe-eval&amp;#39;&amp;#34;]

# 文章配置
[permalinks]
 posts = &amp;#34;/post/:year/:month/:slug/&amp;#34; # 自定义文章 URL 结构

# 自定义输出格式
[outputs]
 home = [&amp;#34;HTML&amp;#34;, &amp;#34;RSS&amp;#34;, &amp;#34;JSON&amp;#34;] # 支持 JSON API 输出
 section = [&amp;#34;HTML&amp;#34;, &amp;#34;RSS&amp;#34;]
 taxonomy = [&amp;#34;HTML&amp;#34;, &amp;#34;RSS&amp;#34;]
 term = [&amp;#34;HTML&amp;#34;, &amp;#34;RSS&amp;#34;]

# RSS 订阅配置
[params.rss]
 limit = 20 # RSS 文章数量限制
 fullContent = true # RSS 包含完整文章内容

# 站内搜索配置
[outputs]
 home = [&amp;#34;HTML&amp;#34;, &amp;#34;RSS&amp;#34;, &amp;#34;JSON&amp;#34;, &amp;#34;SearchIndex&amp;#34;]
[outputFormats.SearchIndex]
 mediaType = &amp;#34;application/json&amp;#34;
 baseName = &amp;#34;searchindex&amp;#34;
 isPlainText = true
 notAlternative = true

# 文章目录配置
[markup.tableOfContents]
 endLevel = 3 # 目录最大深度
 ordered = false # 使用无序列表
 startLevel = 2 # 目录开始层级

# 代码高亮配置
[markup.highlight]
 codeFences = true # 启用代码围栏
 guessSyntax = true # 自动推测代码语言
 lineNoStart = 1 # 起始行号
 lineNos = true # 显示行号
 lineNumbersInTable = true # 使用表格式行号
 tabWidth = 4 # 制表符宽度
 style = &amp;#34;monokai&amp;#34; # 代码高亮主题&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;一些重要的最佳实践建议：&lt;/p&gt;</description></item><item><title>从 Hexo 迁移至 Hugo</title><link>https://simons.qzz.io/en/post/2024/12/my-first-post/</link><pubDate>Sun, 22 Dec 2024 18:12:52 +0800</pubDate><guid>https://simons.qzz.io/en/post/2024/12/my-first-post/</guid><description>&lt;h1 id="再见hexo从hexo迁移至hugo"&gt;再见Hexo——从Hexo迁移至Hugo&lt;/h1&gt;
&lt;p&gt;16 年的时候，博客使用的虚拟主机需要做迁移，当时所使用的 Typecho 是一个依赖于数据库的 PHP 博客系统，数据导出过程很艰辛。彼时 Gihub Pages 正大火，我也就跟风转投了静态博客系统 Hexo 。七年过去了，博客还在，但折腾 Hexo 的人是越来越少了。如今我也要和 Hexo 说声再见，拥抱 Hugo 的怀抱了。&lt;/p&gt;
&lt;h2 id="为什么改用hugo"&gt;为什么改用Hugo&lt;/h2&gt;
&lt;h3 id="依赖管理问题"&gt;依赖管理问题&lt;/h3&gt;
&lt;p&gt;在

&lt;a href="https://easonyang.com/2021/07/10/how-to-sync-and-backup-a-static-blog/" target="_blank"
 rel="noopener noreferrer" class="external-link" data-preview-url="https://easonyang.com/2021/07/10/how-to-sync-and-backup-a-static-blog/" data-preview-enabled="true" &gt;
 静态博客的同步和备份方案
 
 &lt;span class="external-icon"&gt;
 
 
 
 &lt;svg
 style="display:inline-block;width:0.85em;height:0.85em;vertical-align:middle;fill:currentColor" t="1769752196949" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2655" width="200" height="200"&gt;&lt;path d="M775.364451 0c94.991953 5.563939 180.631008 52.428422 224.93552 156.704272 45.055503 105.948832 24.985725 204.456746-52.700419 288.662818-54.989394 59.493344-114.038743 115.266729-171.791106 172.200101-25.087723 24.780727-65.229281 25.565718-86.971041 2.73097-21.981758-23.073746-19.592784-54.817396 6.825925-81.339103 56.661375-56.865373 114.140742-112.979754 170.188124-170.358122 84.479069-86.492046 46.966482-223.979531-69.734232-254.972189-48.571464-12.902858-95.162951-3.993956-132.094543 30.378665-59.391345 55.29539-115.266729 114.139742-174.419077 169.504131-12.526862 11.706871-33.279633 21.844759-49.527454 20.820771-43.51952-2.661971-65.501278-55.397389-35.39561-86.766044 64.716286-67.412257 130.728559-133.801525 200.223793-196.195836C647.160865 13.379852 702.285257 0.339996 775.364451 0zM0 760.891611c0.443995-72.703198 25.769716-135.575505 76.731154-187.389934 56.21638-57.274369 113.320751-113.662747 170.358122-170.187124 27.100701-26.896703 60.414334-28.909681 83.352081-5.801936 23.824737 24.029735 21.503763 54.373401-6.723926 82.738088-54.271402 54.476399-109.464793 108.235807-163.224201 163.326199-66.491267 67.924251-69.289236 159.708239-8.020911 221.31756 58.606354 58.94835 155.543285 59.221347 216.812609-0.442995 55.704386-54.271402 109.907788-110.181785 165.442176-164.555186 33.347632-32.63064 84.035073-20.991769 92.840977 22.902748 3.208965 15.769826-3.173965 39.594563-14.096845 51.131436-60.415334 63.624299-120.693669 127.793591-186.467944 185.512955-80.519112 70.689221-174.863072 82.431091-273.233987 39.594563C58.708353 957.599442 0.272997 864.246471 0 760.891611z m736.588879-414.715428c-3.514961 6.621927-7.576916 20.923769-16.724816 30.241667a52102.42255 52102.42255 0 0 1-333.820319 335.800298c-23.756738 23.722738-57.548366 22.118756-79.87112-0.443996-22.527752-22.731749-21.913758-53.929405 3.173965-79.119127C419.085379 522.644238 529.164166 412.905448 639.139953 303.270656c17.850803-17.783804 38.774572-25.258722 63.145304-14.711837 21.709761 9.420896 32.767639 26.691706 34.337621 57.650364z" p-id="2656"&gt;&lt;/path&gt;&lt;/svg&gt; 
 &lt;/span&gt;
 
&lt;/a&gt;






&lt;style&gt;
 
 .link-preview {
 position: absolute;
 z-index: 9999;
 width: 320px;
 background: white;
 border-radius: 12px;
 box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
 border: 1px solid #e5e7eb;
 font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
 opacity: 0;
 transform: translateY(10px);
 transition: opacity 0.2s, transform 0.2s;
 pointer-events: none;
 }

 .link-preview.visible {
 opacity: 1;
 transform: translateY(0);
 pointer-events: auto;
 }

 .preview-header {
 display: flex;
 align-items: center;
 padding: 16px;
 border-bottom: 1px solid #f3f4f6;
 gap: 10px;
 }

 .preview-favicon {
 width: 16px;
 height: 16px;
 }

 .preview-title {
 flex: 1;
 font-weight: 600;
 font-size: 14px;
 color: #1f2937;
 white-space: nowrap;
 overflow: hidden;
 text-overflow: ellipsis;
 }

 .preview-close {
 background: none;
 border: none;
 font-size: 20px;
 cursor: pointer;
 color: #9ca3af;
 line-height: 1;
 padding: 0;
 width: 24px;
 height: 24px;
 display: flex;
 align-items: center;
 justify-content: center;
 border-radius: 4px;
 }

 .preview-close:hover {
 background: #f3f4f6;
 color: #374151;
 }

 .preview-description {
 padding: 16px;
 font-size: 14px;
 line-height: 1.5;
 color: #4b5563;
 max-height: 120px;
 overflow: hidden;
 display: -webkit-box;
 -webkit-line-clamp: 4;
 -webkit-box-orient: vertical;
 }

 .preview-image {
 height: 180px;
 overflow: hidden;
 border-bottom: 1px solid #f3f4f6;
 }

 .preview-image img {
 width: 100%;
 height: 100%;
 object-fit: cover;
 }

 .preview-footer {
 padding: 12px 16px;
 text-align: right;
 border-top: 1px solid #f3f4f6;
 }

 .preview-link {
 color: #3b82f6;
 text-decoration: none;
 font-size: 13px;
 font-weight: 500;
 }

 .preview-link:hover {
 text-decoration: underline;
 }

 .preview-loading {
 padding: 40px 20px;
 text-align: center;
 color: #6b7280;
 font-size: 14px;
 }

 .preview-error {
 padding: 40px 20px;
 text-align: center;
 color: #ef4444;
 font-size: 14px;
 }

 .hidden {
 display: none !important;
 }

 .preview-overlay {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 z-index: 9998;
 background: rgba(0, 0, 0, 0.1);
 }

 
 @media (prefers-color-scheme: dark) {
 .link-preview {
 background: #1f2937;
 border-color: #374151;
 color: #f9fafb;
 }

 .preview-header {
 border-color: #374151;
 }

 .preview-title {
 color: #f9fafb;
 }

 .preview-description {
 color: #d1d5db;
 }

 .preview-close {
 color: #9ca3af;
 }

 .preview-close:hover {
 background: #374151;
 color: #f9fafb;
 }

 .preview-footer {
 border-color: #374151;
 }

 .preview-link {
 color: #60a5fa;
 }
 }
&lt;/style&gt;

&lt;script&gt;
 class LinkPreview {
 constructor() {
 this.preview = null;
 this.timer = null;
 this.currentUrl = null;
 this.cache = new Map();
 this.init();
 }

 init() {
 
 const template = document.getElementById('preview-template');
 if (!template) return;

 this.preview = template.content.cloneNode(true).firstElementChild;
 document.body.appendChild(this.preview);

 
 document.addEventListener('mouseover', this.handleMouseOver.bind(this));
 document.addEventListener('mouseout', this.handleMouseOut.bind(this));

 
 this.preview.querySelector('.preview-close').addEventListener('click', () =&gt; {
 this.hidePreview();
 });

 
 const overlay = document.getElementById('preview-overlay');
 if (overlay) {
 overlay.addEventListener('click', () =&gt; this.hidePreview());
 }
 }

 handleMouseOver(e) {
 const link = e.target.closest('a[data-preview-enabled="true"]');
 if (!link) return;

 clearTimeout(this.timer);
 this.timer = setTimeout(() =&gt; {
 this.showPreview(link);
 }, 500); 
 }

 handleMouseOut(e) {
 const link = e.target.closest('a[data-preview-enabled="true"]');
 if (!link) return;

 clearTimeout(this.timer);
 this.timer = setTimeout(() =&gt; {
 if (!this.isMouseOverPreview()) {
 this.hidePreview();
 }
 }, 300);
 }

 isMouseOverPreview() {
 return this.preview &amp;&amp; this.preview.matches(':hover');
 }

 async showPreview(link) {
 const url = link.getAttribute('data-preview-url');
 if (!url || url === this.currentUrl) return;

 this.currentUrl = url;

 
 const rect = link.getBoundingClientRect();
 this.positionPreview(rect);

 
 this.showLoading();

 try {
 const data = await this.fetchPreviewData(url);
 this.renderPreview(data);
 } catch (error) {
 this.showError();
 }
 }

 positionPreview(linkRect) {
 const viewport = {
 width: window.innerWidth,
 height: window.innerHeight
 };

 let top = linkRect.bottom + 10;
 let left = linkRect.left;

 
 if (top + 350 &gt; viewport.height) {
 top = linkRect.top - 350 - 10;
 }
 if (left + 320 &gt; viewport.width) {
 left = viewport.width - 320 - 10;
 }
 if (left &lt; 10) left = 10;

 this.preview.style.top = `${top + window.scrollY}px`;
 this.preview.style.left = `${left}px`;
 this.preview.classList.add('visible');

 
 const overlay = document.getElementById('preview-overlay');
 if (overlay) overlay.classList.remove('hidden');
 }

 async fetchPreviewData(url) {
 
 if (this.cache.has(url)) {
 return this.cache.get(url);
 }

 
 
 const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`;

 const response = await fetch(proxyUrl);
 const data = await response.json();

 
 const parser = new DOMParser();
 const doc = parser.parseFromString(data.contents, 'text/html');

 const previewData = {
 title: doc.querySelector('title')?.textContent || '无标题',
 description: doc.querySelector('meta[name="description"]')?.getAttribute('content') || '',
 image: doc.querySelector('meta[property="og:image"]')?.getAttribute('content') || '',
 favicon: `https://www.google.com/s2/favicons?domain=${new URL(url).hostname}&amp;sz=32`,
 url: url
 };

 
 this.cache.set(url, previewData);
 return previewData;
 }

 renderPreview(data) {
 this.preview.querySelector('.preview-loading').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.add('hidden');

 const content = this.preview.querySelector('.preview-content');
 content.classList.remove('hidden');

 
 this.preview.querySelector('.preview-favicon').src = data.favicon;
 this.preview.querySelector('.preview-title').textContent = data.title;
 this.preview.querySelector('.preview-description').textContent = data.description;
 this.preview.querySelector('.preview-link').href = data.url;

 
 const imageContainer = this.preview.querySelector('.preview-image');
 if (data.image) {
 const img = document.createElement('img');
 img.src = data.image;
 img.alt = data.title;
 imageContainer.innerHTML = '';
 imageContainer.appendChild(img);
 } else {
 imageContainer.innerHTML = '&lt;div class="no-image"&gt;暂无预览图&lt;/div&gt;';
 }
 }

 showLoading() {
 this.preview.querySelector('.preview-content').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.add('hidden');
 this.preview.querySelector('.preview-loading').classList.remove('hidden');
 }

 showError() {
 this.preview.querySelector('.preview-content').classList.add('hidden');
 this.preview.querySelector('.preview-loading').classList.add('hidden');
 this.preview.querySelector('.preview-error').classList.remove('hidden');
 }

 hidePreview() {
 if (this.preview) {
 this.preview.classList.remove('visible');
 this.currentUrl = null;

 const overlay = document.getElementById('preview-overlay');
 if (overlay) overlay.classList.add('hidden');
 }
 }
 }

 
 document.addEventListener('DOMContentLoaded', () =&gt; {
 new LinkPreview();
 });
&lt;/script&gt;一文中，我分享了基于 Github 和 iCloud 的同步备份方案，期望在保证数据安全的同时，写作环境可以在我的两台电脑上无缝切换。&lt;/p&gt;</description></item></channel></rss>